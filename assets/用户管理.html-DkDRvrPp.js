import{_ as t,c as p,a as n,d as e,e as l,f as c,r as d,o as r,b as i}from"./app-BCC5ysrj.js";const o={},u={class:"vuepress-toc"},m={class:"vuepress-toc-item"},v={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"},_={class:"vuepress-toc-item"},k={class:"vuepress-toc-item"},g={class:"vuepress-toc-item"},f={class:"vuepress-toc-item"},x={class:"vuepress-toc-item"},L={class:"vuepress-toc-item"},y={class:"vuepress-toc-item"},A={class:"vuepress-toc-item"},j={class:"vuepress-toc-item"},w={class:"vuepress-toc-item"},N={class:"vuepress-toc-item"},S={class:"vuepress-toc-item"},D={class:"vuepress-toc-item"};function E(I,s){const a=d("router-link");return r(),p("div",null,[s[17]||(s[17]=n("h1",{id:"linux-用户管理",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#linux-用户管理"},[n("span",null,"Linux 用户管理")])],-1)),n("nav",u,[n("ul",null,[n("li",m,[e(a,{to:"#_1-用户基础"},{default:l(()=>s[0]||(s[0]=[i("1. 用户基础")])),_:1}),n("ul",null,[n("li",v,[e(a,{to:"#_1-1-用户类型"},{default:l(()=>s[1]||(s[1]=[i("1.1 用户类型")])),_:1})]),n("li",h,[e(a,{to:"#_1-2-用户相关文件"},{default:l(()=>s[2]||(s[2]=[i("1.2 用户相关文件")])),_:1})])])]),n("li",b,[e(a,{to:"#_2-用户管理命令"},{default:l(()=>s[3]||(s[3]=[i("2. 用户管理命令")])),_:1}),n("ul",null,[n("li",_,[e(a,{to:"#_2-1-创建用户"},{default:l(()=>s[4]||(s[4]=[i("2.1 创建用户")])),_:1})]),n("li",k,[e(a,{to:"#_2-2-修改用户"},{default:l(()=>s[5]||(s[5]=[i("2.2 修改用户")])),_:1})]),n("li",g,[e(a,{to:"#_2-3-删除用户"},{default:l(()=>s[6]||(s[6]=[i("2.3 删除用户")])),_:1})])])]),n("li",f,[e(a,{to:"#_3-组管理"},{default:l(()=>s[7]||(s[7]=[i("3. 组管理")])),_:1}),n("ul",null,[n("li",x,[e(a,{to:"#_3-1-创建和删除组"},{default:l(()=>s[8]||(s[8]=[i("3.1 创建和删除组")])),_:1})]),n("li",L,[e(a,{to:"#_3-2-组成员管理"},{default:l(()=>s[9]||(s[9]=[i("3.2 组成员管理")])),_:1})])])]),n("li",y,[e(a,{to:"#_4-权限管理"},{default:l(()=>s[10]||(s[10]=[i("4. 权限管理")])),_:1}),n("ul",null,[n("li",A,[e(a,{to:"#_4-1-基本文件权限"},{default:l(()=>s[11]||(s[11]=[i("4.1 基本文件权限")])),_:1})]),n("li",j,[e(a,{to:"#_4-2-特殊权限"},{default:l(()=>s[12]||(s[12]=[i("4.2 特殊权限")])),_:1})])])]),n("li",w,[e(a,{to:"#_5-sudo-配置"},{default:l(()=>s[13]||(s[13]=[i("5. sudo 配置")])),_:1}),n("ul",null,[n("li",N,[e(a,{to:"#_5-1-基本配置"},{default:l(()=>s[14]||(s[14]=[i("5.1 基本配置")])),_:1})]),n("li",S,[e(a,{to:"#_5-2-命令限制"},{default:l(()=>s[15]||(s[15]=[i("5.2 命令限制")])),_:1})])])]),n("li",D,[e(a,{to:"#_6-安全建议"},{default:l(()=>s[16]||(s[16]=[i("6. 安全建议")])),_:1})])])]),s[18]||(s[18]=c(`<hr><h2 id="_1-用户基础" tabindex="-1"><a class="header-anchor" href="#_1-用户基础"><span>1. 用户基础</span></a></h2><h3 id="_1-1-用户类型" tabindex="-1"><a class="header-anchor" href="#_1-1-用户类型"><span>1.1 用户类型</span></a></h3><ol><li><p><strong>超级用户 (root)</strong></p><ul><li>UID 0</li><li>完全控制权限</li><li>系统管理员</li></ul></li><li><p><strong>系统用户</strong></p><ul><li>UID 1-999</li><li>系统服务运行</li><li>无法登录</li></ul></li><li><p><strong>普通用户</strong></p><ul><li>UID 1000+</li><li>日常使用</li><li>有限权限</li></ul></li></ol><h3 id="_1-2-用户相关文件" tabindex="-1"><a class="header-anchor" href="#_1-2-用户相关文件"><span>1.2 用户相关文件</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 用户信息</span></span>
<span class="line"><span class="token function">cat</span> /etc/passwd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 密码信息</span></span>
<span class="line"><span class="token function">cat</span> /etc/shadow</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 组信息</span></span>
<span class="line"><span class="token function">cat</span> /etc/group</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-用户管理命令" tabindex="-1"><a class="header-anchor" href="#_2-用户管理命令"><span>2. 用户管理命令</span></a></h2><h3 id="_2-1-创建用户" tabindex="-1"><a class="header-anchor" href="#_2-1-创建用户"><span>2.1 创建用户</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 创建新用户</span></span>
<span class="line"><span class="token function">useradd</span> username</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建用户并指定参数</span></span>
<span class="line"><span class="token function">useradd</span> <span class="token parameter variable">-m</span> <span class="token parameter variable">-s</span> /bin/bash <span class="token parameter variable">-G</span> <span class="token function">sudo</span> username</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置密码</span></span>
<span class="line"><span class="token function">passwd</span> username</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-修改用户" tabindex="-1"><a class="header-anchor" href="#_2-2-修改用户"><span>2.2 修改用户</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 修改用户信息</span></span>
<span class="line"><span class="token function">usermod</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;Full Name&quot;</span> username</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 修改用户组</span></span>
<span class="line"><span class="token function">usermod</span> <span class="token parameter variable">-G</span> newgroup username</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 修改用户 shell</span></span>
<span class="line"><span class="token function">usermod</span> <span class="token parameter variable">-s</span> /bin/bash username</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-删除用户" tabindex="-1"><a class="header-anchor" href="#_2-3-删除用户"><span>2.3 删除用户</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 删除用户</span></span>
<span class="line"><span class="token function">userdel</span> username</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 删除用户及主目录</span></span>
<span class="line"><span class="token function">userdel</span> <span class="token parameter variable">-r</span> username</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-组管理" tabindex="-1"><a class="header-anchor" href="#_3-组管理"><span>3. 组管理</span></a></h2><h3 id="_3-1-创建和删除组" tabindex="-1"><a class="header-anchor" href="#_3-1-创建和删除组"><span>3.1 创建和删除组</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 创建新组</span></span>
<span class="line"><span class="token function">groupadd</span> groupname</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 删除组</span></span>
<span class="line"><span class="token function">groupdel</span> groupname</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-组成员管理" tabindex="-1"><a class="header-anchor" href="#_3-2-组成员管理"><span>3.2 组成员管理</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 添加用户到组</span></span>
<span class="line"><span class="token function">usermod</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-G</span> groupname username</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 从组中删除用户</span></span>
<span class="line">gpasswd <span class="token parameter variable">-d</span> username groupname</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看组成员</span></span>
<span class="line">getent group groupname</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-权限管理" tabindex="-1"><a class="header-anchor" href="#_4-权限管理"><span>4. 权限管理</span></a></h2><h3 id="_4-1-基本文件权限" tabindex="-1"><a class="header-anchor" href="#_4-1-基本文件权限"><span>4.1 基本文件权限</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 修改文件所有者</span></span>
<span class="line"><span class="token function">chown</span> user:group <span class="token function">file</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 修改文件权限</span></span>
<span class="line"><span class="token function">chmod</span> <span class="token number">755</span> <span class="token function">file</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 修改默认权限</span></span>
<span class="line"><span class="token builtin class-name">umask</span> 022</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-特殊权限" tabindex="-1"><a class="header-anchor" href="#_4-2-特殊权限"><span>4.2 特殊权限</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 设置 SUID</span></span>
<span class="line"><span class="token function">chmod</span> u+s <span class="token function">file</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置 SGID</span></span>
<span class="line"><span class="token function">chmod</span> g+s directory</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置粘滞位</span></span>
<span class="line"><span class="token function">chmod</span> +t directory</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-sudo-配置" tabindex="-1"><a class="header-anchor" href="#_5-sudo-配置"><span>5. sudo 配置</span></a></h2><h3 id="_5-1-基本配置" tabindex="-1"><a class="header-anchor" href="#_5-1-基本配置"><span>5.1 基本配置</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 编辑 sudo 配置</span></span>
<span class="line">visudo</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 添加用户权限</span></span>
<span class="line">username <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> ALL</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 免密码配置</span></span>
<span class="line">username <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> NOPASSWD: ALL</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-命令限制" tabindex="-1"><a class="header-anchor" href="#_5-2-命令限制"><span>5.2 命令限制</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 限制特定命令</span></span>
<span class="line">username <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> /bin/ls, /bin/cat</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 限制特定目录</span></span>
<span class="line">username <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> /usr/bin/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-安全建议" tabindex="-1"><a class="header-anchor" href="#_6-安全建议"><span>6. 安全建议</span></a></h2><ol><li><p><strong>密码策略</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 设置密码策略</span></span>
<span class="line"><span class="token function">vim</span> /etc/security/pwquality.conf</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 强制密码更改</span></span>
<span class="line">chage <span class="token parameter variable">-d</span> <span class="token number">0</span> username</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>访问控制</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 限制 SSH 访问</span></span>
<span class="line"><span class="token function">vim</span> /etc/ssh/sshd_config</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置登录失败限制</span></span>
<span class="line"><span class="token function">vim</span> /etc/pam.d/common-auth</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>审计日志</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 查看登录日志</span></span>
<span class="line">last</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看用户活动</span></span>
<span class="line">w</span>
<span class="line"><span class="token function">who</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,30))])}const G=t(o,[["render",E],["__file","用户管理.html.vue"]]),U=JSON.parse('{"path":"/flinux/basic/%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86.html","title":"Linux 用户管理","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"1. 用户基础","slug":"_1-用户基础","link":"#_1-用户基础","children":[{"level":3,"title":"1.1 用户类型","slug":"_1-1-用户类型","link":"#_1-1-用户类型","children":[]},{"level":3,"title":"1.2 用户相关文件","slug":"_1-2-用户相关文件","link":"#_1-2-用户相关文件","children":[]}]},{"level":2,"title":"2. 用户管理命令","slug":"_2-用户管理命令","link":"#_2-用户管理命令","children":[{"level":3,"title":"2.1 创建用户","slug":"_2-1-创建用户","link":"#_2-1-创建用户","children":[]},{"level":3,"title":"2.2 修改用户","slug":"_2-2-修改用户","link":"#_2-2-修改用户","children":[]},{"level":3,"title":"2.3 删除用户","slug":"_2-3-删除用户","link":"#_2-3-删除用户","children":[]}]},{"level":2,"title":"3. 组管理","slug":"_3-组管理","link":"#_3-组管理","children":[{"level":3,"title":"3.1 创建和删除组","slug":"_3-1-创建和删除组","link":"#_3-1-创建和删除组","children":[]},{"level":3,"title":"3.2 组成员管理","slug":"_3-2-组成员管理","link":"#_3-2-组成员管理","children":[]}]},{"level":2,"title":"4. 权限管理","slug":"_4-权限管理","link":"#_4-权限管理","children":[{"level":3,"title":"4.1 基本文件权限","slug":"_4-1-基本文件权限","link":"#_4-1-基本文件权限","children":[]},{"level":3,"title":"4.2 特殊权限","slug":"_4-2-特殊权限","link":"#_4-2-特殊权限","children":[]}]},{"level":2,"title":"5. sudo 配置","slug":"_5-sudo-配置","link":"#_5-sudo-配置","children":[{"level":3,"title":"5.1 基本配置","slug":"_5-1-基本配置","link":"#_5-1-基本配置","children":[]},{"level":3,"title":"5.2 命令限制","slug":"_5-2-命令限制","link":"#_5-2-命令限制","children":[]}]},{"level":2,"title":"6. 安全建议","slug":"_6-安全建议","link":"#_6-安全建议","children":[]}],"git":{},"filePathRelative":"flinux/basic/用户管理.md"}');export{G as comp,U as data};
