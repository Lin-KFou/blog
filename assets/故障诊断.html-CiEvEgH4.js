import{_ as t,c as p,a as n,d as e,e as l,f as c,r,o as d,b as i}from"./app-BCC5ysrj.js";const o={},u={class:"vuepress-toc"},v={class:"vuepress-toc-item"},m={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"},_={class:"vuepress-toc-item"},k={class:"vuepress-toc-item"},g={class:"vuepress-toc-item"},f={class:"vuepress-toc-item"},x={class:"vuepress-toc-item"},y={class:"vuepress-toc-item"},C={class:"vuepress-toc-item"},j={class:"vuepress-toc-item"},P={class:"vuepress-toc-item"},N={class:"vuepress-toc-item"},U={class:"vuepress-toc-item"};function w(E,s){const a=r("router-link");return d(),p("div",null,[s[15]||(s[15]=n("h1",{id:"linux-系统故障诊断",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#linux-系统故障诊断"},[n("span",null,"Linux 系统故障诊断")])],-1)),n("nav",u,[n("ul",null,[n("li",v,[e(a,{to:"#_1-系统故障类型"},{default:l(()=>s[0]||(s[0]=[i("1. 系统故障类型")])),_:1}),n("ul",null,[n("li",m,[e(a,{to:"#_1-1-常见故障分类"},{default:l(()=>s[1]||(s[1]=[i("1.1 常见故障分类")])),_:1})]),n("li",h,[e(a,{to:"#_1-2-故障等级"},{default:l(()=>s[2]||(s[2]=[i("1.2 故障等级")])),_:1})])])]),n("li",b,[e(a,{to:"#_2-故障诊断工具"},{default:l(()=>s[3]||(s[3]=[i("2. 故障诊断工具")])),_:1}),n("ul",null,[n("li",_,[e(a,{to:"#_2-1-系统状态查看"},{default:l(()=>s[4]||(s[4]=[i("2.1 系统状态查看")])),_:1})]),n("li",k,[e(a,{to:"#_2-2-日志分析"},{default:l(()=>s[5]||(s[5]=[i("2.2 日志分析")])),_:1})]),n("li",g,[e(a,{to:"#_2-3-网络诊断"},{default:l(()=>s[6]||(s[6]=[i("2.3 网络诊断")])),_:1})])])]),n("li",f,[e(a,{to:"#_3-常见故障排查流程"},{default:l(()=>s[7]||(s[7]=[i("3. 常见故障排查流程")])),_:1}),n("ul",null,[n("li",x,[e(a,{to:"#_3-1-cpu-故障"},{default:l(()=>s[8]||(s[8]=[i("3.1 CPU 故障")])),_:1})]),n("li",y,[e(a,{to:"#_3-2-内存故��"},{default:l(()=>s[9]||(s[9]=[i("3.2 内存故��")])),_:1})]),n("li",C,[e(a,{to:"#_3-3-磁盘故障"},{default:l(()=>s[10]||(s[10]=[i("3.3 磁盘故障")])),_:1})])])]),n("li",j,[e(a,{to:"#_4-故障处理方案"},{default:l(()=>s[11]||(s[11]=[i("4. 故障处理方案")])),_:1}),n("ul",null,[n("li",P,[e(a,{to:"#_4-1-应急处理"},{default:l(()=>s[12]||(s[12]=[i("4.1 应急处理")])),_:1})]),n("li",N,[e(a,{to:"#_4-2-长期解决方案"},{default:l(()=>s[13]||(s[13]=[i("4.2 长期解决方案")])),_:1})])])]),n("li",U,[e(a,{to:"#_5-故障预防"},{default:l(()=>s[14]||(s[14]=[i("5. 故障预防")])),_:1})])])]),s[16]||(s[16]=c(`<hr><h2 id="_1-系统故障类型" tabindex="-1"><a class="header-anchor" href="#_1-系统故障类型"><span>1. 系统故障类型</span></a></h2><h3 id="_1-1-常见故障分类" tabindex="-1"><a class="header-anchor" href="#_1-1-常见故障分类"><span>1.1 常见故障分类</span></a></h3><ul><li>CPU 负载高</li><li>内存不足</li><li>磁盘空间满</li><li>网络连接问题</li><li>服务无响应</li></ul><h3 id="_1-2-故障等级" tabindex="-1"><a class="header-anchor" href="#_1-2-故障等级"><span>1.2 故障等级</span></a></h3><ol><li><p><strong>紧急故障</strong></p><ul><li>系统宕机</li><li>数据丢失</li><li>核心服务停止</li></ul></li><li><p><strong>重要故障</strong></p><ul><li>系统性能严重下降</li><li>部分服务不可用</li><li>数据访问异常</li></ul></li><li><p><strong>普通故障</strong></p><ul><li>非核心服务异常</li><li>性能轻微下降</li><li>警告信息</li></ul></li></ol><h2 id="_2-故障诊断工具" tabindex="-1"><a class="header-anchor" href="#_2-故障诊断工具"><span>2. 故障诊断工具</span></a></h2><h3 id="_2-1-系统状态查看" tabindex="-1"><a class="header-anchor" href="#_2-1-系统状态查看"><span>2.1 系统状态查看</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 系统负载</span></span>
<span class="line"><span class="token function">uptime</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 进程状态</span></span>
<span class="line"><span class="token function">ps</span> aux</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 资源使用</span></span>
<span class="line"><span class="token function">top</span></span>
<span class="line"><span class="token function">htop</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-日志分析" tabindex="-1"><a class="header-anchor" href="#_2-2-日志分析"><span>2.2 日志分析</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 系统日志</span></span>
<span class="line"><span class="token function">tail</span> <span class="token parameter variable">-f</span> /var/log/syslog</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 服务日志</span></span>
<span class="line">journalctl <span class="token parameter variable">-u</span> service-name</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 实时日志监控</span></span>
<span class="line"><span class="token function">tail</span> <span class="token parameter variable">-f</span> /var/log/messages</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-网络诊断" tabindex="-1"><a class="header-anchor" href="#_2-3-网络诊断"><span>2.3 网络诊断</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 网络连接</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-tunlp</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 网络延迟</span></span>
<span class="line"><span class="token function">ping</span> <span class="token function">host</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 路由跟踪</span></span>
<span class="line"><span class="token function">traceroute</span> <span class="token function">host</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-常见故障排查流程" tabindex="-1"><a class="header-anchor" href="#_3-常见故障排查流程"><span>3. 常见故障排查流程</span></a></h2><h3 id="_3-1-cpu-故障" tabindex="-1"><a class="header-anchor" href="#_3-1-cpu-故障"><span>3.1 CPU 故障</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 查看 CPU 使用率</span></span>
<span class="line"><span class="token function">top</span> <span class="token parameter variable">-c</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看具体进程</span></span>
<span class="line">pidstat <span class="token parameter variable">-u</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 进程栈跟踪</span></span>
<span class="line"><span class="token function">strace</span> <span class="token parameter variable">-p</span> PID</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-内存故��" tabindex="-1"><a class="header-anchor" href="#_3-2-内存故��"><span>3.2 内存故��</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 内存使用情况</span></span>
<span class="line"><span class="token function">free</span> <span class="token parameter variable">-m</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看内存占用</span></span>
<span class="line"><span class="token function">ps</span> aux <span class="token parameter variable">--sort</span><span class="token operator">=</span>-%mem</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看内存泄漏</span></span>
<span class="line">valgrind --leak-check<span class="token operator">=</span>full</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-磁盘故障" tabindex="-1"><a class="header-anchor" href="#_3-3-磁盘故障"><span>3.3 磁盘故障</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 磁盘空间</span></span>
<span class="line"><span class="token function">df</span> <span class="token parameter variable">-h</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># IO 状态</span></span>
<span class="line">iostat <span class="token parameter variable">-x</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 文件系统检查</span></span>
<span class="line"><span class="token function">fsck</span> /dev/sda1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-故障处理方案" tabindex="-1"><a class="header-anchor" href="#_4-故障处理方案"><span>4. 故障处理方案</span></a></h2><h3 id="_4-1-应急处理" tabindex="-1"><a class="header-anchor" href="#_4-1-应急处理"><span>4.1 应急处理</span></a></h3><ol><li><p>服务器无响应</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"></span>
<span class="line"><span class="token comment"># 强制重启进程</span></span>
<span class="line"><span class="token function">kill</span> <span class="token parameter variable">-9</span> PID</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启服务</span></span>
<span class="line">systemctl restart <span class="token function">service</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>磁盘空间满</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 清理日志</span></span>
<span class="line"><span class="token function">find</span> /var/log <span class="token parameter variable">-type</span> f <span class="token parameter variable">-delete</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 清理缓存</span></span>
<span class="line"><span class="token function">apt</span> clean  <span class="token comment"># Debian/Ubuntu</span></span>
<span class="line">yum clean all  <span class="token comment"># CentOS</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_4-2-长期解决方案" tabindex="-1"><a class="header-anchor" href="#_4-2-长期解决方案"><span>4.2 长期解决方案</span></a></h3><ol><li><p><strong>性能优化</strong></p><ul><li>优化系统配置</li><li>升级硬件资源</li><li>实施负载均衡</li></ul></li><li><p><strong>监控预警</strong></p><ul><li>部署监控系统</li><li>设置告警阈值</li><li>建立应急预案</li></ul></li></ol><h2 id="_5-故障预防" tabindex="-1"><a class="header-anchor" href="#_5-故障预防"><span>5. 故障预防</span></a></h2><ol><li><p><strong>定期维护</strong></p><ul><li>系统更新</li><li>日志轮转</li><li>磁盘清理</li></ul></li><li><p><strong>备份策略</strong></p><ul><li>定期备份</li><li>异地备份</li><li>备份测试</li></ul></li><li><p><strong>文档管理</strong></p><ul><li>故障记录</li><li>解决方案</li><li>最佳实践</li></ul></li></ol>`,27))])}const D=t(o,[["render",w],["__file","故障诊断.html.vue"]]),V=JSON.parse('{"path":"/flinux/troubleshooting/%E6%95%85%E9%9A%9C%E8%AF%8A%E6%96%AD.html","title":"Linux 系统故障诊断","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"1. 系统故障类型","slug":"_1-系统故障类型","link":"#_1-系统故障类型","children":[{"level":3,"title":"1.1 常见故障分类","slug":"_1-1-常见故障分类","link":"#_1-1-常见故障分类","children":[]},{"level":3,"title":"1.2 故障等级","slug":"_1-2-故障等级","link":"#_1-2-故障等级","children":[]}]},{"level":2,"title":"2. 故障诊断工具","slug":"_2-故障诊断工具","link":"#_2-故障诊断工具","children":[{"level":3,"title":"2.1 系统状态查看","slug":"_2-1-系统状态查看","link":"#_2-1-系统状态查看","children":[]},{"level":3,"title":"2.2 日志分析","slug":"_2-2-日志分析","link":"#_2-2-日志分析","children":[]},{"level":3,"title":"2.3 网络诊断","slug":"_2-3-网络诊断","link":"#_2-3-网络诊断","children":[]}]},{"level":2,"title":"3. 常见故障排查流程","slug":"_3-常见故障排查流程","link":"#_3-常见故障排查流程","children":[{"level":3,"title":"3.1 CPU 故障","slug":"_3-1-cpu-故障","link":"#_3-1-cpu-故障","children":[]},{"level":3,"title":"3.2 内存故��","slug":"_3-2-内存故��","link":"#_3-2-内存故��","children":[]},{"level":3,"title":"3.3 磁盘故障","slug":"_3-3-磁盘故障","link":"#_3-3-磁盘故障","children":[]}]},{"level":2,"title":"4. 故障处理方案","slug":"_4-故障处理方案","link":"#_4-故障处理方案","children":[{"level":3,"title":"4.1 应急处理","slug":"_4-1-应急处理","link":"#_4-1-应急处理","children":[]},{"level":3,"title":"4.2 长期解决方案","slug":"_4-2-长期解决方案","link":"#_4-2-长期解决方案","children":[]}]},{"level":2,"title":"5. 故障预防","slug":"_5-故障预防","link":"#_5-故障预防","children":[]}],"git":{"updatedTime":1735033700000,"contributors":[{"name":"wanglinhao","username":"wanglinhao","email":"wanglinhao@wegooooo.com","commits":1}]},"filePathRelative":"flinux/troubleshooting/故障诊断.md"}');export{D as comp,V as data};
