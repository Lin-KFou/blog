import{_ as t,c as p,a as n,d as e,e as l,f as c,r,o as d,b as i}from"./app-BCC5ysrj.js";const o={},u={class:"vuepress-toc"},m={class:"vuepress-toc-item"},v={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"},_={class:"vuepress-toc-item"},k={class:"vuepress-toc-item"},g={class:"vuepress-toc-item"},f={class:"vuepress-toc-item"},x={class:"vuepress-toc-item"},y={class:"vuepress-toc-item"},C={class:"vuepress-toc-item"},P={class:"vuepress-toc-item"},j={class:"vuepress-toc-item"},U={class:"vuepress-toc-item"},w={class:"vuepress-toc-item"},I={class:"vuepress-toc-item"};function N(O,s){const a=r("router-link");return d(),p("div",null,[s[16]||(s[16]=n("h1",{id:"linux-系统性能优化",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#linux-系统性能优化"},[n("span",null,"Linux 系统性能优化")])],-1)),n("nav",u,[n("ul",null,[n("li",m,[e(a,{to:"#_1-系统性能评估"},{default:l(()=>s[0]||(s[0]=[i("1. 系统性能评估")])),_:1}),n("ul",null,[n("li",v,[e(a,{to:"#_1-1-性能指标"},{default:l(()=>s[1]||(s[1]=[i("1.1 性能指标")])),_:1})]),n("li",h,[e(a,{to:"#_1-2-性能瓶颈识别"},{default:l(()=>s[2]||(s[2]=[i("1.2 性能瓶颈识别")])),_:1})])])]),n("li",b,[e(a,{to:"#_2-cpu-优化"},{default:l(()=>s[3]||(s[3]=[i("2. CPU 优化")])),_:1}),n("ul",null,[n("li",_,[e(a,{to:"#_2-1-进程优先级调整"},{default:l(()=>s[4]||(s[4]=[i("2.1 进程优先级调整")])),_:1})]),n("li",k,[e(a,{to:"#_2-2-cpu-调度器优化"},{default:l(()=>s[5]||(s[5]=[i("2.2 CPU 调度器优化")])),_:1})])])]),n("li",g,[e(a,{to:"#_3-内存优化"},{default:l(()=>s[6]||(s[6]=[i("3. 内存优化")])),_:1}),n("ul",null,[n("li",f,[e(a,{to:"#_3-1-内存参数调整"},{default:l(()=>s[7]||(s[7]=[i("3.1 内存参数调整")])),_:1})]),n("li",x,[e(a,{to:"#_3-2-缓存优化"},{default:l(()=>s[8]||(s[8]=[i("3.2 缓存优化")])),_:1})])])]),n("li",y,[e(a,{to:"#_4-磁盘优化"},{default:l(()=>s[9]||(s[9]=[i("4. 磁盘优化")])),_:1}),n("ul",null,[n("li",C,[e(a,{to:"#_4-1-文件系统优化"},{default:l(()=>s[10]||(s[10]=[i("4.1 文件系统优化")])),_:1})]),n("li",P,[e(a,{to:"#_4-2-i-o-调度优化"},{default:l(()=>s[11]||(s[11]=[i("4.2 I/O 调度优化")])),_:1})])])]),n("li",j,[e(a,{to:"#_5-网络优化"},{default:l(()=>s[12]||(s[12]=[i("5. 网络优化")])),_:1}),n("ul",null,[n("li",U,[e(a,{to:"#_5-1-tcp-参数优化"},{default:l(()=>s[13]||(s[13]=[i("5.1 TCP 参数优化")])),_:1})]),n("li",w,[e(a,{to:"#_5-2-网络接口优化"},{default:l(()=>s[14]||(s[14]=[i("5.2 网络接口优化")])),_:1})])])]),n("li",I,[e(a,{to:"#_6-性能优化建议"},{default:l(()=>s[15]||(s[15]=[i("6. 性能优化建议")])),_:1})])])]),s[17]||(s[17]=c(`<h2 id="_1-系统性能评估" tabindex="-1"><a class="header-anchor" href="#_1-系统性能评估"><span>1. 系统性能评估</span></a></h2><h3 id="_1-1-性能指标" tabindex="-1"><a class="header-anchor" href="#_1-1-性能指标"><span>1.1 性能指标</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 系统平均负载</span></span>
<span class="line"><span class="token function">uptime</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># CPU 使用率</span></span>
<span class="line"><span class="token function">top</span></span>
<span class="line"><span class="token function">vmstat</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 内存使用情况</span></span>
<span class="line"><span class="token function">free</span> <span class="token parameter variable">-m</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-性能瓶颈识别" tabindex="-1"><a class="header-anchor" href="#_1-2-性能瓶颈识别"><span>1.2 性能瓶颈识别</span></a></h3><ul><li>CPU 密集型问题</li><li>内存瓶颈</li><li>I/O 瓶颈</li><li>网络瓶颈</li></ul><h2 id="_2-cpu-优化" tabindex="-1"><a class="header-anchor" href="#_2-cpu-优化"><span>2. CPU 优化</span></a></h2><h3 id="_2-1-进程优先级调整" tabindex="-1"><a class="header-anchor" href="#_2-1-进程优先级调整"><span>2.1 进程优先级调整</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 调整进程优先级</span></span>
<span class="line"><span class="token function">nice</span> <span class="token parameter variable">-n</span> <span class="token number">19</span> <span class="token builtin class-name">command</span></span>
<span class="line"><span class="token function">renice</span> <span class="token number">19</span> <span class="token parameter variable">-p</span> PID</span>
<span class="line"></span>
<span class="line"><span class="token comment"># CPU 亲和性设置</span></span>
<span class="line">taskset <span class="token parameter variable">-pc</span> <span class="token number">0</span>-2 PID</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-cpu-调度器优化" tabindex="-1"><a class="header-anchor" href="#_2-2-cpu-调度器优化"><span>2.2 CPU 调度器优化</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 查看当前调度器</span></span>
<span class="line"><span class="token function">cat</span> /sys/block/sda/queue/scheduler</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 修改调度器</span></span>
<span class="line"><span class="token builtin class-name">echo</span> deadline <span class="token operator">&gt;</span> /sys/block/sda/queue/scheduler</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-内存优化" tabindex="-1"><a class="header-anchor" href="#_3-内存优化"><span>3. 内存优化</span></a></h2><h3 id="_3-1-内存参数调整" tabindex="-1"><a class="header-anchor" href="#_3-1-内存参数调整"><span>3.1 内存参数调整</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 修改 /etc/sysctl.conf</span></span>
<span class="line">vm.swappiness <span class="token operator">=</span> <span class="token number">10</span></span>
<span class="line">vm.dirty_ratio <span class="token operator">=</span> <span class="token number">10</span></span>
<span class="line">vm.dirty_background_ratio <span class="token operator">=</span> <span class="token number">5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-缓存优化" tabindex="-1"><a class="header-anchor" href="#_3-2-缓存优化"><span>3.2 缓存优化</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 清理缓存</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token number">3</span> <span class="token operator">&gt;</span> /proc/sys/vm/drop_caches</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 调整缓存大小</span></span>
<span class="line"><span class="token function">sysctl</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">vm.vfs_cache_pressure</span><span class="token operator">=</span><span class="token number">50</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-磁盘优化" tabindex="-1"><a class="header-anchor" href="#_4-磁盘优化"><span>4. 磁盘优化</span></a></h2><h3 id="_4-1-文件系统优化" tabindex="-1"><a class="header-anchor" href="#_4-1-文件系统优化"><span>4.1 文件系统优化</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 文件系统检查</span></span>
<span class="line">e2fsck <span class="token parameter variable">-f</span> /dev/sda1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 调整挂载参数</span></span>
<span class="line"><span class="token function">mount</span> <span class="token parameter variable">-o</span> noatime,nodiratime /dev/sda1 /mnt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-i-o-调度优化" tabindex="-1"><a class="header-anchor" href="#_4-2-i-o-调度优化"><span>4.2 I/O 调度优化</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 设置 I/O 调度器</span></span>
<span class="line"><span class="token builtin class-name">echo</span> deadline <span class="token operator">&gt;</span> /sys/block/sda/queue/scheduler</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 调整队列大小</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token number">1024</span> <span class="token operator">&gt;</span> /sys/block/sda/queue/nr_requests</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-网络优化" tabindex="-1"><a class="header-anchor" href="#_5-网络优化"><span>5. 网络优化</span></a></h2><h3 id="_5-1-tcp-参数优化" tabindex="-1"><a class="header-anchor" href="#_5-1-tcp-参数优化"><span>5.1 TCP 参数优化</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 修改 /etc/sysctl.conf</span></span>
<span class="line">net.ipv4.tcp_fin_timeout <span class="token operator">=</span> <span class="token number">30</span></span>
<span class="line">net.ipv4.tcp_keepalive_time <span class="token operator">=</span> <span class="token number">1200</span></span>
<span class="line">net.ipv4.tcp_max_syn_backlog <span class="token operator">=</span> <span class="token number">8192</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-网络接口优化" tabindex="-1"><a class="header-anchor" href="#_5-2-网络接口优化"><span>5.2 网络接口优化</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 调整网卡参数</span></span>
<span class="line"><span class="token function">ethtool</span> <span class="token parameter variable">-G</span> eth0 rx <span class="token number">2048</span> tx <span class="token number">2048</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 开启网卡多队列</span></span>
<span class="line"><span class="token function">ethtool</span> <span class="token parameter variable">-L</span> eth0 combined <span class="token number">4</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-性能优化建议" tabindex="-1"><a class="header-anchor" href="#_6-性能优化建议"><span>6. 性能优化建议</span></a></h2><ol><li><p><strong>系统层面</strong></p><ul><li>及时更新系统</li><li>删除不必要的服务</li><li>优化启动项</li></ul></li><li><p><strong>应用层面</strong></p><ul><li>合理分配资源</li><li>优化应用配置</li><li>实施缓存策略</li></ul></li><li><p><strong>监控与维护</strong></p><ul><li>建立性能基准</li><li>定期检查性能</li><li>及时处理异常</li></ul></li></ol>`,27))])}const B=t(o,[["render",N],["__file","性能优化.html.vue"]]),E=JSON.parse('{"path":"/flinux/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html","title":"Linux 系统性能优化","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"1. 系统性能评估","slug":"_1-系统性能评估","link":"#_1-系统性能评估","children":[{"level":3,"title":"1.1 性能指标","slug":"_1-1-性能指标","link":"#_1-1-性能指标","children":[]},{"level":3,"title":"1.2 性能瓶颈识别","slug":"_1-2-性能瓶颈识别","link":"#_1-2-性能瓶颈识别","children":[]}]},{"level":2,"title":"2. CPU 优化","slug":"_2-cpu-优化","link":"#_2-cpu-优化","children":[{"level":3,"title":"2.1 进程优先级调整","slug":"_2-1-进程优先级调整","link":"#_2-1-进程优先级调整","children":[]},{"level":3,"title":"2.2 CPU 调度器优化","slug":"_2-2-cpu-调度器优化","link":"#_2-2-cpu-调度器优化","children":[]}]},{"level":2,"title":"3. 内存优化","slug":"_3-内存优化","link":"#_3-内存优化","children":[{"level":3,"title":"3.1 内存参数调整","slug":"_3-1-内存参数调整","link":"#_3-1-内存参数调整","children":[]},{"level":3,"title":"3.2 缓存优化","slug":"_3-2-缓存优化","link":"#_3-2-缓存优化","children":[]}]},{"level":2,"title":"4. 磁盘优化","slug":"_4-磁盘优化","link":"#_4-磁盘优化","children":[{"level":3,"title":"4.1 文件系统优化","slug":"_4-1-文件系统优化","link":"#_4-1-文件系统优化","children":[]},{"level":3,"title":"4.2 I/O 调度优化","slug":"_4-2-i-o-调度优化","link":"#_4-2-i-o-调度优化","children":[]}]},{"level":2,"title":"5. 网络优化","slug":"_5-网络优化","link":"#_5-网络优化","children":[{"level":3,"title":"5.1 TCP 参数优化","slug":"_5-1-tcp-参数优化","link":"#_5-1-tcp-参数优化","children":[]},{"level":3,"title":"5.2 网络接口优化","slug":"_5-2-网络接口优化","link":"#_5-2-网络接口优化","children":[]}]},{"level":2,"title":"6. 性能优化建议","slug":"_6-性能优化建议","link":"#_6-性能优化建议","children":[]}],"git":{"updatedTime":1735033700000,"contributors":[{"name":"wanglinhao","username":"wanglinhao","email":"wanglinhao@wegooooo.com","commits":1}]},"filePathRelative":"flinux/performance/性能优化.md"}');export{B as comp,E as data};
