import{_ as t,c as r,a as n,d as l,e as a,f as c,r as p,o,b as i}from"./app-BCC5ysrj.js";const d={},u={class:"vuepress-toc"},m={class:"vuepress-toc-item"},v={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},k={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"},A={class:"vuepress-toc-item"},g={class:"vuepress-toc-item"},f={class:"vuepress-toc-item"};function V(_,s){const e=p("router-link");return o(),r("div",null,[s[8]||(s[8]=n("h1",{id:"交换机端口模式",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#交换机端口模式"},[n("span",null,"交换机端口模式")])],-1)),n("nav",u,[n("ul",null,[n("li",m,[l(e,{to:"#简介"},{default:a(()=>s[0]||(s[0]=[i("简介")])),_:1})]),n("li",v,[l(e,{to:"#access-模式"},{default:a(()=>s[1]||(s[1]=[i("Access 模式")])),_:1}),n("ul",null,[n("li",h,[l(e,{to:"#access接口"},{default:a(()=>s[2]||(s[2]=[i("Access接口")])),_:1})]),n("li",k,[l(e,{to:"#access-特点"},{default:a(()=>s[3]||(s[3]=[i("Access 特点")])),_:1})])])]),n("li",b,[l(e,{to:"#trunk接口"},{default:a(()=>s[4]||(s[4]=[i("Trunk接口")])),_:1}),n("ul",null,[n("li",A,[l(e,{to:"#配置示例"},{default:a(()=>s[5]||(s[5]=[i("配置示例")])),_:1})]),n("li",g,[l(e,{to:"#trunk-特点"},{default:a(()=>s[6]||(s[6]=[i("Trunk 特点")])),_:1})])])]),n("li",f,[l(e,{to:"#最佳实践"},{default:a(()=>s[7]||(s[7]=[i("最佳实践")])),_:1})])])]),s[9]||(s[9]=c(`<hr><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>交换机端口模式决定了端口如何处理 VLAN 标签(tag)，主要有三种模式：</p><ul><li>Access：只能属于1个VLAN，一般用于连接计算机端口</li><li>Trunk：允许多个VLAN，可以接受和发送多个VLAN报文，一般用于交换机与交换机相关的接口</li><li>Hybrid：可以允许多个VLAN，可以接受和发送多个VLAN报文，一般用于交换机的间接连接也可以用于连接用户计算机</li></ul><h2 id="access-模式" tabindex="-1"><a class="header-anchor" href="#access-模式"><span>Access 模式</span></a></h2><h3 id="access接口" tabindex="-1"><a class="header-anchor" href="#access接口"><span>Access接口</span></a></h3><p>Access 端口主要用于连接终端设备（如计算机），因为终端设备通常不能识别 VLAN 标签。</p><p>一般用于连接终端用户，PC并不能识别带有tag的数据帧<br> 配置：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 进入端口配置模式</span></span>
<span class="line">interface G0/0/1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置端口类型为 access</span></span>
<span class="line">port link-type access</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 指定所属 VLAN</span></span>
<span class="line">port default vlan <span class="token number">2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="access-特点" tabindex="-1"><a class="header-anchor" href="#access-特点"><span>Access 特点</span></a></h3><ol><li><p><strong>数据帧处理</strong></p><ul><li>只允许与端口 PVID 相同的数据帧通过</li><li>收到无标签帧时，添加端口的 PVID</li><li>发送时去除 VLAN 标签</li></ul></li><li><p><strong>默认配置</strong></p><ul><li>默认端口类型为 access</li><li>默认 PVID 为 1</li><li>VLAN 1 为系统预留，不可删改</li></ul></li></ol><h2 id="trunk接口" tabindex="-1"><a class="header-anchor" href="#trunk接口"><span>Trunk接口</span></a></h2><p>Trunk 端口用于交换机之间的互联，可以传输多个 VLAN 的数据。它保留 VLAN 标签信息，使不同交换机之间能够识别数据帧所属的 VLAN。</p><blockquote><p><strong>注意：</strong> Trunk 端口不能直接实现不同 VLAN 间的通信，需要通过三层设备（路由器/三层交换机）</p></blockquote><h3 id="配置示例" tabindex="-1"><a class="header-anchor" href="#配置示例"><span>配置示例</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 进入端口配置模式</span></span>
<span class="line">interface G0/0/0</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置为 Trunk 模式</span></span>
<span class="line">port link-type trunk</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置 PVID（处理无标签帧时使用）</span></span>
<span class="line">port trunk pvid vlan <span class="token number">3</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 允许指定 VLAN 通过</span></span>
<span class="line">port trunk allow-pass vlan <span class="token number">5</span> <span class="token number">100</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 允许所有 VLAN 通过</span></span>
<span class="line">port trunk allow-pass vlan all</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看 VLAN 配置</span></span>
<span class="line">display vlan</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="trunk-特点" tabindex="-1"><a class="header-anchor" href="#trunk-特点"><span>Trunk 特点</span></a></h3><ol><li><p><strong>接收处理</strong></p><ul><li>无标签帧：添加 PVID 标签</li><li>有标签帧：检查是否允许通过 <ul><li>允许：保持标签转发</li><li>不允许：丢弃</li></ul></li></ul></li><li><p><strong>发送处理</strong></p><ul><li>PVID 相同的帧：去除标签</li><li>PVID 不同的帧：保持标签</li></ul></li></ol><h2 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践"><span>最佳实践</span></a></h2><ol><li><p><strong>端口规划</strong></p><ul><li>Access 端口用于终端设备</li><li>Trunk 端口用于交换机互联</li><li>合理规划 VLAN 分配</li></ul></li><li><p><strong>安全建议</strong></p><ul><li>限制 Trunk 允许的 VLAN</li><li>避免使用 VLAN 1</li><li>定期检查端口配置</li></ul></li></ol><blockquote><p><strong>参考资料：</strong></p><ul><li><a href="https://baike.baidu.com/item/PVID/10536481" target="_blank" rel="noopener noreferrer">PVID 说明</a></li><li><a href="https://support.huawei.com/enterprise/zh/doc/EDOC1100055069" target="_blank" rel="noopener noreferrer">交换机端口模式配置指南</a></li></ul></blockquote>`,21))])}const L=t(d,[["render",V],["__file","交换机端口模式.html.vue"]]),x=JSON.parse('{"path":"/flinux/Network/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%AB%AF%E5%8F%A3%E6%A8%A1%E5%BC%8F.html","title":"交换机端口模式","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"Access 模式","slug":"access-模式","link":"#access-模式","children":[{"level":3,"title":"Access接口","slug":"access接口","link":"#access接口","children":[]},{"level":3,"title":"Access 特点","slug":"access-特点","link":"#access-特点","children":[]}]},{"level":2,"title":"Trunk接口","slug":"trunk接口","link":"#trunk接口","children":[{"level":3,"title":"配置示例","slug":"配置示例","link":"#配置示例","children":[]},{"level":3,"title":"Trunk 特点","slug":"trunk-特点","link":"#trunk-特点","children":[]}]},{"level":2,"title":"最佳实践","slug":"最佳实践","link":"#最佳实践","children":[]}],"git":{"updatedTime":1701020615000,"contributors":[{"name":"Linkefou","username":"Linkefou","email":"wlh724567296@163.com","commits":1}]},"filePathRelative":"flinux/Network/交换机端口模式.md"}');export{L as comp,x as data};
