import{_ as t,c as p,a,d as e,e as l,f as r,r as o,o as c,b as i}from"./app-BCC5ysrj.js";const d={},u={class:"vuepress-toc"},v={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},m={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"};function k(_,s){const n=o("router-link");return c(),p("div",null,[s[4]||(s[4]=a("h1",{id:"shell-脚本执行消耗的时间",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#shell-脚本执行消耗的时间"},[a("span",null,"Shell 脚本执行消耗的时间")])],-1)),a("nav",u,[a("ul",null,[a("li",v,[e(n,{to:"#脚本说明"},{default:l(()=>s[0]||(s[0]=[i("脚本说明")])),_:1})]),a("li",h,[e(n,{to:"#完整代码"},{default:l(()=>s[1]||(s[1]=[i("完整代码")])),_:1})]),a("li",m,[e(n,{to:"#使用说明"},{default:l(()=>s[2]||(s[2]=[i("使用说明")])),_:1})]),a("li",b,[e(n,{to:"#注意事项"},{default:l(()=>s[3]||(s[3]=[i("注意事项")])),_:1})])])]),s[5]||(s[5]=r(`<hr><h2 id="脚本说明" tabindex="-1"><a class="header-anchor" href="#脚本说明"><span>脚本说明</span></a></h2><p>这个脚本用于测量其他 Shell 脚本的执行时间。主要功能:</p><ul><li>接收用户输入的脚本名称</li><li>记录开始时间</li><li>执行目标脚本</li><li>计算执行时间</li></ul><h2 id="完整代码" tabindex="-1"><a class="header-anchor" href="#完整代码"><span>完整代码</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/sbin</span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span></span>
<span class="line"><span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入需要执行的脚本：&quot;</span> shname</span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">begin_time</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span></span>
<span class="line"></span>
<span class="line"><span class="token function">sh</span> <span class="token variable">$shname</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">end_time</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span></span>
<span class="line"><span class="token assign-left variable">cost_time</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>end_time <span class="token operator">-</span> begin_time<span class="token variable">))</span></span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;执行脚本所花费的时间：<span class="token entity" title="\\033">\\033</span>[1m;32;40m<span class="token variable">$cost_time</span><span class="token entity" title="\\033">\\033</span>[0m 秒&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用说明" tabindex="-1"><a class="header-anchor" href="#使用说明"><span>使用说明</span></a></h2><ol><li><p>保存脚本为 <code>time_script.sh</code></p></li><li><p>添加执行权限:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">chmod</span> +x time_script.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>运行脚本:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">./time_script.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ul><li>确保输入的脚本路径正确</li><li>目标脚本需要有执行权限</li><li>时间精度为秒级</li></ul><blockquote><p><strong>提示：</strong> 如果需要更高精度的时间测量，可以使用 <code>date +%s.%N</code> 获取纳秒级时间戳。</p></blockquote>`,11))])}const f=t(d,[["render",k],["__file","shell 脚本执行消耗的时间.html.vue"]]),x=JSON.parse('{"path":"/flinux/Shell%E7%BC%96%E7%A8%8B/shell%20%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%B6%88%E8%80%97%E7%9A%84%E6%97%B6%E9%97%B4.html","title":"Shell 脚本执行消耗的时间","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"脚本说明","slug":"脚本说明","link":"#脚本说明","children":[]},{"level":2,"title":"完整代码","slug":"完整代码","link":"#完整代码","children":[]},{"level":2,"title":"使用说明","slug":"使用说明","link":"#使用说明","children":[]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]}],"git":{},"filePathRelative":"flinux/Shell编程/shell 脚本执行消耗的时间.md"}');export{f as comp,x as data};
