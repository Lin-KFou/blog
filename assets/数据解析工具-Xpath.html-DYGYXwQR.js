import{_ as l,c,a as s,d as t,e as p,f as o,r as i,o as u,b as e}from"./app-BCC5ysrj.js";const d={},r={class:"vuepress-toc"},k={class:"vuepress-toc-item"},g={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},m={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"},v={class:"vuepress-toc-item"},f={class:"vuepress-toc-item"},_={class:"vuepress-toc-item"},x={class:"vuepress-toc-item"},q={class:"vuepress-toc-item"},y={class:"vuepress-toc-item"},j={class:"vuepress-toc-item"},w={class:"vuepress-toc-item"},z={class:"vuepress-toc-item"},X={class:"vuepress-toc-item"},L={class:"vuepress-toc-item"},M={class:"vuepress-toc-item"},T={class:"vuepress-toc-item"},H={class:"vuepress-toc-item"},E={class:"vuepress-toc-item"},P={class:"vuepress-toc-item"},A={class:"vuepress-toc-item"},B={class:"vuepress-toc-item"},N={class:"vuepress-toc-item"};function U(R,a){const n=i("router-link");return u(),c("div",null,[a[24]||(a[24]=s("h1",{id:"数据解析工具-xpath",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#数据解析工具-xpath"},[s("span",null,"数据解析工具：Xpath")])],-1)),s("nav",r,[s("ul",null,[s("li",k,[t(n,{to:"#xpath介绍"},{default:p(()=>a[0]||(a[0]=[e("Xpath介绍")])),_:1})]),s("li",g,[t(n,{to:"#xpath安装"},{default:p(()=>a[1]||(a[1]=[e("Xpath安装")])),_:1})]),s("li",h,[t(n,{to:"#xpath解析原理"},{default:p(()=>a[2]||(a[2]=[e("Xpath解析原理")])),_:1})]),s("li",m,[t(n,{to:"#xpath使用方法"},{default:p(()=>a[3]||(a[3]=[e("Xpath使用方法")])),_:1}),s("ul",null,[s("li",b,[t(n,{to:"#_3个特殊符号"},{default:p(()=>a[4]||(a[4]=[e("3个特殊符号")])),_:1})]),s("li",v,[t(n,{to:"#常见路径表达式"},{default:p(()=>a[5]||(a[5]=[e("常见路径表达式")])),_:1})]),s("li",f,[t(n,{to:"#举例"},{default:p(()=>a[6]||(a[6]=[e("举例")])),_:1})]),s("li",_,[t(n,{to:"#xpath运算符"},{default:p(()=>a[7]||(a[7]=[e("Xpath运算符")])),_:1})])])]),s("li",x,[t(n,{to:"#html元素"},{default:p(()=>a[8]||(a[8]=[e("HTML元素")])),_:1}),s("ul",null,[s("li",q,[t(n,{to:"#常见属性"},{default:p(()=>a[9]||(a[9]=[e("常见属性")])),_:1})]),s("li",y,[t(n,{to:"#html标题"},{default:p(()=>a[10]||(a[10]=[e("HTML标题")])),_:1})])])]),s("li",j,[t(n,{to:"#原数据"},{default:p(()=>a[11]||(a[11]=[e("原数据")])),_:1}),s("ul",null,[s("li",w,[t(n,{to:"#获取单个标签内容"},{default:p(()=>a[12]||(a[12]=[e("获取单个标签内容")])),_:1})]),s("li",z,[t(n,{to:"#获取标签内的多个内容"},{default:p(()=>a[13]||(a[13]=[e("获取标签内的多个内容")])),_:1})]),s("li",X,[t(n,{to:"#属性定位"},{default:p(()=>a[14]||(a[14]=[e("属性定位")])),_:1})]),s("li",L,[t(n,{to:"#索引定位"},{default:p(()=>a[15]||(a[15]=[e("索引定位")])),_:1})]),s("li",M,[t(n,{to:"#获取文本内容"},{default:p(()=>a[16]||(a[16]=[e("获取文本内容")])),_:1})]),s("li",T,[t(n,{to:"#直系和非直系理解"},{default:p(()=>a[17]||(a[17]=[e("直系和非直系理解")])),_:1})]),s("li",H,[t(n,{to:"#取属性内容"},{default:p(()=>a[18]||(a[18]=[e("取属性内容")])),_:1})]),s("li",E,[t(n,{to:"#总结"},{default:p(()=>a[19]||(a[19]=[e("总结")])),_:1})])])]),s("li",P,[t(n,{to:"#实战"},{default:p(()=>a[20]||(a[20]=[e("实战")])),_:1}),s("ul",null,[s("li",A,[t(n,{to:"#网页数据分析"},{default:p(()=>a[21]||(a[21]=[e("网页数据分析")])),_:1})]),s("li",B,[t(n,{to:"#获取网页源码"},{default:p(()=>a[22]||(a[22]=[e("获取网页源码")])),_:1})]),s("li",N,[t(n,{to:"#获取信息"},{default:p(()=>a[23]||(a[23]=[e("获取信息")])),_:1})])])])])]),a[25]||(a[25]=o(`<hr><blockquote><p>搬运：知乎【@皮大大】</p></blockquote><p>之前爬虫解析数据的时候，自己几乎都是用正则表达式。正则解析数据很强大，但是表达式写起来很麻烦，速度相对较慢。本文介绍的是如何快速入门一种数据解析工具：Xpath。</p><p><img src="https://pic2.zhimg.com/v2-c319590f977a1147789985b423df3485_b.jpg" alt="c319590f977a1147789985b423df3485"></p><h2 id="xpath介绍" tabindex="-1"><a class="header-anchor" href="#xpath介绍"><span>Xpath介绍</span></a></h2><p><code>XPath （XML Path）</code>是一门在 XML 文档中查找信息的语言。<code>XPath</code> 可用来在<code>XML</code>文档中对元素和属性进行遍历。</p><p>XPath 是 W3C XSLT 标准的主要元素，并且 XQuery 和 XPointer 都构建于 XPath 表达之上。</p><ul><li>Xpath是一种查询语言</li><li>在XML（Extensible Markup Language）和HTML的树状结构中寻找节点</li><li>XPATH是一种根据‘地址’来‘寻找人’的语言</li></ul><p>快速入门网站：<a href="https://link.zhihu.com/?target=https%3A//www.w3schools.com/xml/default.asp" target="_blank" rel="noopener noreferrer">https://www.w3schools.com/xml/default.asp</a></p><h2 id="xpath安装" tabindex="-1"><a class="header-anchor" href="#xpath安装"><span>Xpath安装</span></a></h2><p>MacOS中安装非常的简单：</p><p>Linux中的安装以Ubuntu为例：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> python-lxml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Windows中的安装请自行百度，肯定会有教程的，就是过程相对会比较麻烦些。</p><p>如何检验安装是否成功？命令行中<code>import lxml</code>没有报错，即表示安装成功！</p><p><img src="https://pic4.zhimg.com/v2-d057b57f8a7b1dd26d2343f5e14418a3_b.jpg" alt="d057b57f8a7b1dd26d2343f5e14418a3"></p><h2 id="xpath解析原理" tabindex="-1"><a class="header-anchor" href="#xpath解析原理"><span>Xpath解析原理</span></a></h2><ul><li>实例化一个etree解析对象，且需要将解析的页面源码数据加载到对象中</li><li>调用xpath中的xpath解析方法结合着xpath表达式实现标签的定位和内容的捕获</li></ul><p>如何实例化etree对象？</p><ol><li>将本地的html文档中的源码数据加载到etree对象中：etree.parse(filePath)</li><li>将互联网上获取的源码数据加载到该对象中：etree.HTML(&#39;page_text&#39;)，其中page_text指的就是我们获取到的源码内容</li></ol><h2 id="xpath使用方法" tabindex="-1"><a class="header-anchor" href="#xpath使用方法"><span>Xpath使用方法</span></a></h2><h3 id="_3个特殊符号" tabindex="-1"><a class="header-anchor" href="#_3个特殊符号"><span>3个特殊符号</span></a></h3><ul><li>/：表示从根节点开始解析，并且是单个层级，逐步定位</li><li>//：表示多个层级，可以跳过其中的部分层级；也表示从任意位置开始定位</li><li>.：一个点表示当前的节点</li></ul><h3 id="常见路径表达式" tabindex="-1"><a class="header-anchor" href="#常见路径表达式"><span>常见路径表达式</span></a></h3><p>下面是常见的Xpath路径表达式：</p><p><img src="https://pic3.zhimg.com/v2-c992c549ef10134d1697df626a38c74e_b.jpg" alt="c992c549ef10134d1697df626a38c74e"></p><h3 id="举例" tabindex="-1"><a class="header-anchor" href="#举例"><span>举例</span></a></h3><p><img src="https://pic2.zhimg.com/v2-3aa9ceb87da5efd69dc688197afd3891_b.jpg" alt="3aa9ceb87da5efd69dc688197afd3891"></p><h3 id="xpath运算符" tabindex="-1"><a class="header-anchor" href="#xpath运算符"><span>Xpath运算符</span></a></h3><p>在Xpath表达式式中是直接支持运算符的：</p><p><img src="https://pic4.zhimg.com/v2-c1fb8a5c1c9485f36b748d438605f117_b.jpg" alt="c1fb8a5c1c9485f36b748d438605f117"></p><h2 id="html元素" tabindex="-1"><a class="header-anchor" href="#html元素"><span>HTML元素</span></a></h2><p>HTML 元素指的是从开始标签（start tag）到结束标签（end tag）的所有代码。基本语法：</p><ul><li>HTML 元素以_开始标签_起始；HTML 元素以结束标签终止</li><li>元素的内容是开始标签与结束标签之间的内容</li><li>某些 HTML 元素具有空内容（empty content）</li><li>空元素在开始标签中进行关闭（以开始标签的结束而结束）</li><li>大多数 HTML 元素可拥有属性；属性推荐使用小写</li></ul><p>关于空元素的使用：在开始标签中添加斜杠，比如<code>&lt;br /&gt;</code>，是关闭空元素的正确方法，HTML、XHTML 和 XML 都接受这种方式。</p><h3 id="常见属性" tabindex="-1"><a class="header-anchor" href="#常见属性"><span>常见属性</span></a></h3><p><img src="https://pic1.zhimg.com/v2-441ddd595e28e6dcea360e003f468e08_b.jpg" alt="441ddd595e28e6dcea360e003f468e08"></p><h3 id="html标题" tabindex="-1"><a class="header-anchor" href="#html标题"><span>HTML标题</span></a></h3><p>HTML中标题共有6级。</p><p>标题（Heading）是通过 <code>&lt;h1&gt; - &lt;h6&gt;</code> 等标签进行定义的。</p><p><code>&lt;h1&gt;</code> 定义最大的标题，<code>&lt;h6&gt;</code> 定义最小的标题。</p><h2 id="原数据" tabindex="-1"><a class="header-anchor" href="#原数据"><span>原数据</span></a></h2><p>使用Xpath解析数据之前，我们需要先导入库，同时实例化一个etree对象：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 导入库 </span></span>
<span class="line"><span class="token keyword">from</span> lxml <span class="token keyword">import</span> etree </span>
<span class="line"><span class="token comment"># 实例化解析对象 </span></span>
<span class="line">tree <span class="token operator">=</span> etree<span class="token punctuation">.</span>parse<span class="token punctuation">(</span><span class="token string">&quot;test.html&quot;</span><span class="token punctuation">)</span> tree</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面是待解析的原数据test.html：</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>古代诗人及作品<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>诗人姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>李白<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>白居易<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>李清照<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>杜甫<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>王安石<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://wwww.tang.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>李世民<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_self<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span> this is span <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                古代诗人写的诗词真的非常棒</span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>du<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>床前明月光，疑是地上霜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.baidu.com/tang.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tang<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.baidu.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>百度<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>朝辞白帝彩云间，千里江陵一日还<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.sougou.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>搜狗<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>清明时节雨纷纷，路上行人欲断魂<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.360.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>360<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>秦时明月汉时关，万里长征人未还<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.sina.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>必应<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>君子赠人以言，庶人赠人以财<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>苏轼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>苏洵<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.google.cn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>谷歌<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>欢迎使用谷歌浏览器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic1.zhimg.com/v2-8709005f1f4116460e672920cde1f08c_b.jpg" alt="8709005f1f4116460e672920cde1f08c_b"></p><h3 id="获取单个标签内容" tabindex="-1"><a class="header-anchor" href="#获取单个标签内容"><span>获取单个标签内容</span></a></h3><p>比如想获取title标签中的内容：古代诗人及作品</p><p><img src="https://pic2.zhimg.com/v2-3f0a44ec2c3631a3f65398182b451b15_b.jpg" alt="3f0a44ec2c3631a3f65398182b451b15_b"></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">title <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&quot;/html/head/title&quot;</span><span class="token punctuation">)</span> title</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://pic4.zhimg.com/v2-6cecec3c9f7e919c9aca14190506a09b_b.jpg" alt="6cecec3c9f7e919c9aca14190506a09b_b"></p><p>通过上面的结果发现：每个Xpath解析的结果都是一个列表</p><p>如果想取得标签中的文本内容，使用text()：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 从列表中提取相应内容 </span></span>
<span class="line">title <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&quot;/html/head/title/text()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> </span>
<span class="line"><span class="token comment"># 索引0表示取得第一个元素值 title</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic4.zhimg.com/v2-a4febe2d16da28214bbdf1b00f5229d7_b.jpg" alt="a4febe2d16da28214bbdf1b00f5229d7"></p><h3 id="获取标签内的多个内容" tabindex="-1"><a class="header-anchor" href="#获取标签内的多个内容"><span>获取标签内的多个内容</span></a></h3><p>比如我们想获取div标签的内容，原数据中有3对div标签，结果是列表中含有3个元素：</p><p><img src="https://pic4.zhimg.com/v2-f8d673615de2a6c363ac883ef42a1207_b.jpg" alt="f8d673615de2a6c363ac883ef42a1207"></p><p>1、使用单斜线/：表示根节点html开始定位，表示的是一个层级</p><p><img src="https://pic2.zhimg.com/v2-36da2a9c24d1f56aa8546ce3171814f1_b.jpg" alt="36da2a9c24d1f56aa8546ce3171814f1_b"></p><p>2、中间使用双斜线//：表示跳过中间的层级，表示的是多个层级</p><p><img src="https://pic1.zhimg.com/v2-bbd6161e75bf25fb9706397037be19c0_b.jpg" alt="bbd6161e75bf25fb9706397037be19c0_b"></p><p>3、开头部位使用双斜线//：表示从任意位置开始</p><p><img src="https://pic3.zhimg.com/v2-85d7550b9bdb911e19775871b3b2f28e_b.jpg" alt="85d7550b9bdb911e19775871b3b2f28e_b"></p><h3 id="属性定位" tabindex="-1"><a class="header-anchor" href="#属性定位"><span>属性定位</span></a></h3><p>使用属性定位的时候直接在标签后面跟上<code>[@属性名=&quot;属性值&quot;]</code>：</p><p><img src="https://pic2.zhimg.com/v2-952fae118055e689512d6ebb727251cd_b.jpg" alt="952fae118055e689512d6ebb727251cd_b"></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">name <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//div[@class=&quot;name&quot;]&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 定位class属性，值为name name</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://pic3.zhimg.com/v2-f7448a83b813a7845c887e4df8f431be_b.jpg" alt="f7448a83b813a7845c887e4df8f431be_b"></p><h3 id="索引定位" tabindex="-1"><a class="header-anchor" href="#索引定位"><span>索引定位</span></a></h3><p>Xpath中索引是从1开始，和python中的索引从0开始是不同的。比如想定位div标签下class属性（值为name）下的全部p标签：5对p标签，结果应该是5个元素</p><p><img src="https://pic1.zhimg.com/v2-67adc2bfff0b9a9c8099ce6e8fc232ac_b.jpg" alt="67adc2bfff0b9a9c8099ce6e8fc232ac_b"></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 获取全部数据</span></span>
<span class="line">index <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//div[@class=&quot;name&quot;]/p&#39;</span><span class="token punctuation">)</span> </span>
<span class="line">index</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic3.zhimg.com/v2-5db9972fc64921050bea09abfc43112a_b.jpg" alt="5db9972fc64921050bea09abfc43112a_b"></p><p>如果我们想获取其中的第3个p标签：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 获取单个指定数据：索引从1开始 </span></span>
<span class="line">index <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//div[@class=&quot;name&quot;]/p[3]&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 索引从1开始 index</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic3.zhimg.com/v2-2aff37157f836f4245c51a555742d07e_b.jpg" alt="2aff37157f836f4245c51a555742d07e_b"></p><h3 id="获取文本内容" tabindex="-1"><a class="header-anchor" href="#获取文本内容"><span>获取文本内容</span></a></h3><p>第一种方法：text()方法</p><p>1、获取具体某个标签下面的元素：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 1、/：单个层级 </span></span>
<span class="line">class_text <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//div[@class=&quot;tang&quot;]/ul/li/b/text()&#39;</span><span class="token punctuation">)</span></span>
<span class="line">class_text </span>
<span class="line"><span class="token comment"># 2、//：多个层级 </span></span>
<span class="line">class_text <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//div[@class=&quot;tang&quot;]//b/text()&#39;</span><span class="token punctuation">)</span> </span>
<span class="line">class_text</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic1.zhimg.com/v2-3420b22bb29235273619950514c20e68_b.jpg" alt="3420b22bb29235273619950514c20e68_b"></p><p>2、某个标签下面的多个内容</p><p><img src="https://pic1.zhimg.com/v2-9f2d8f8e50826c53c8cc922f1d659fd8_b.jpg" alt="9f2d8f8e50826c53c8cc922f1d659fd8_b"></p><p>比如想获取p标签下面的全部内容：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 获取全部数据 </span></span>
<span class="line">p_text <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//div[@class=&quot;name&quot;]/p/text()&#39;</span><span class="token punctuation">)</span></span>
<span class="line">p_text</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic3.zhimg.com/v2-6c573bef16fa701a80a3aee610e84e42_b.jpg" alt="6c573bef16fa701a80a3aee610e84e42_b"></p><p>比如想获取第3个p标签下面的内容：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 获取第3个标签内容 </span></span>
<span class="line">p_text <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//div[@class=&quot;name&quot;]/p[3]/text()&#39;</span><span class="token punctuation">)</span> </span>
<span class="line">p_text</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic3.zhimg.com/v2-fb00e2e74cf4f50f819f3540cfaebebe_b.jpg" alt="fb00e2e74cf4f50f819f3540cfaebebe_b"></p><p>如果是先获取p标签中的全部内容，结果是列表，再使用python索引获取，注意索引为2：</p><p><img src="https://pic3.zhimg.com/v2-67cc1ef17148f75fdda5704c401cfe62_b.jpg" alt="67cc1ef17148f75fdda5704c401cfe62_b"></p><p>非标签直系内容的获取：</p><p><img src="https://pic2.zhimg.com/v2-02927425f2c61753567bbbb6dd4b0f01_b.jpg" alt="02927425f2c61753567bbbb6dd4b0f01_b"></p><p>标签直系内容的获取：结果为空，直系的li标签中没有任何内容</p><p><img src="https://pic2.zhimg.com/v2-2dc3fafb04a298e656e5adff50871379_b.jpg" alt="2dc3fafb04a298e656e5adff50871379_b"></p><p>如果想获取li标签的全部内容，可以将下面的a、b、i标签合并起来，使用竖线<code>|</code></p><p><img src="https://pic1.zhimg.com/v2-52582baa74556994d9509a77497f70a0_b.jpg" alt="52582baa74556994d9509a77497f70a0_b"></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 同时获取li标签下面a/b/i标签的内容，相当于是li标签全部的内容 </span></span>
<span class="line">abi_text <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//div[@class=&quot;tang&quot;]//li/a/text() | //div[@class=&quot;tang&quot;]//li/b/text() | //div[@class=&quot;tang&quot;]//li/i/text()&#39;</span><span class="token punctuation">)</span> </span>
<span class="line">abi_text</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic4.zhimg.com/v2-91a50e72c6116ded300ced41feecce1f_b.jpg" alt="91a50e72c6116ded300ced41feecce1f_b"></p><h3 id="直系和非直系理解" tabindex="-1"><a class="header-anchor" href="#直系和非直系理解"><span>直系和非直系理解</span></a></h3><p><img src="https://pic3.zhimg.com/v2-4d7fa74561b393a373e92df35c64b57e_b.jpg" alt="4d7fa74561b393a373e92df35c64b57e_b"></p><h3 id="取属性内容" tabindex="-1"><a class="header-anchor" href="#取属性内容"><span>取属性内容</span></a></h3><p>如果想获取属性的值，在最后的表达式中加上：@+属性名，即可取出相应属性的值</p><p>1、获取单个属性的值</p><p><img src="https://pic3.zhimg.com/v2-6dc7c5c1485586b8c99cc52ad64e54c2_b.jpg" alt="6dc7c5c1485586b8c99cc52ad64e54c2_b"></p><p><img src="https://pic4.zhimg.com/v2-07d2ec70b990a26f6c0feffe78cced57_b.jpg" alt="07d2ec70b990a26f6c0feffe78cced57_b"></p><p>2、获取属性的多个值</p><p><img src="https://pic3.zhimg.com/v2-17e28cdff77de933130469cb1634e712_b.jpg" alt="17e28cdff77de933130469cb1634e712_b"></p><p><img src="https://pic3.zhimg.com/v2-3c09e1d22ddd4a8d1d4a36f03e61dc1a_b.jpg" alt="3c09e1d22ddd4a8d1d4a36f03e61dc1a_b"></p><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><p>在这里对Xpath的使用总结下：</p><ul><li>//：表示获取标签非直系内容，有跨越层级</li><li>/：表示只获取标签的直系内容，不跨越层级</li><li>如果索引是在Xpath表达式中，索引从1开始；如果从Xpath表达式中获取到列表数据后，再使用python索引取数，索引从0开始</li></ul><h2 id="实战" tabindex="-1"><a class="header-anchor" href="#实战"><span>实战</span></a></h2><p>利用XPATH来爬取小说网站上古龙的全部小说名称（name）和URL地址（url），古龙简介：</p><blockquote><p>本名熊耀华，江西人；台湾淡江英专(即淡江大学前身)毕业(一说肄业)。少年时期便嗜读古今武侠小说及西洋文学作品，一般多以为他是受到吉川英治、大小仲马、海明威、杰克伦敦、史坦贝克小说乃至尼采、沙特等西洋哲学的影响启迪。 (古龙自己也说过“我喜欢从近代日本及西洋小说‘偷招’。”) 故能日新又新，後来居上，且别开武侠小说新境界。</p></blockquote><h3 id="网页数据分析" tabindex="-1"><a class="header-anchor" href="#网页数据分析"><span>网页数据分析</span></a></h3><p>爬取的信息在这个网站上：<a href="https://link.zhihu.com/?target=https%3A//www.kanunu8.com/zj/10867.html" target="_blank" rel="noopener noreferrer">https://www.kanunu8.com/zj/10867.html</a></p><p><img src="https://pic4.zhimg.com/v2-f059f1dd403ef1d6c6c637483cfaaf33_b.jpg" alt="f059f1dd403ef1d6c6c637483cfaaf33_b"></p><p>当我们点击具体某个小说，比如“绝代双骄”就可以进去该小说的具体信息中：</p><p><img src="https://pic2.zhimg.com/v2-18696e98d658d2bd6e5dea5800cafac5_b.jpg" alt="18696e98d658d2bd6e5dea5800cafac5_b"></p><p>通过查看网页的源码，我们发现名称和URL地址全部在下面的标签中：</p><p><img src="https://pic3.zhimg.com/v2-88b2cf6e6f52ee2ddd3f2d5976a6415e_b.jpg" alt="88b2cf6e6f52ee2ddd3f2d5976a6415e_b"></p><p>每个tr标签下面有3个td标签，代表3个小说，一个td包含地址和名称</p><p><img src="https://pic1.zhimg.com/v2-e675447e620c8a1233713fb97bab1b30_b.jpg" alt="e675447e620c8a1233713fb97bab1b30_b"></p><h3 id="获取网页源码" tabindex="-1"><a class="header-anchor" href="#获取网页源码"><span>获取网页源码</span></a></h3><p>发送网页请求获取到源码</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> requests <span class="token keyword">from</span> lxml <span class="token keyword">import</span> etree <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd url <span class="token operator">=</span> <span class="token string">&#39;https://www.kanunu8.com/zj/10867.html&#39;</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;user-agent&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;请求头&#39;</span><span class="token punctuation">}</span> response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">=</span> url<span class="token punctuation">,</span>headers <span class="token operator">=</span> headers<span class="token punctuation">)</span> result <span class="token operator">=</span> response<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&#39;gbk&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 该网页需要通过gbk编码来解析数据 result</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://pic3.zhimg.com/v2-b4a83e0aea4c49ee28566ce32884fd6e_b.jpg" alt="b4a83e0aea4c49ee28566ce32884fd6e_b"></p><h3 id="获取信息" tabindex="-1"><a class="header-anchor" href="#获取信息"><span>获取信息</span></a></h3><p>1、获取每个小说的专属链接地址</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">tree <span class="token operator">=</span> etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>result<span class="token punctuation">)</span> href_list <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//tbody/tr//a/@href&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 指定属性的信息 href_list[:5]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://pic4.zhimg.com/v2-8dc1cd3aad00d900f4e8541c357fe867_b.jpg" alt="8dc1cd3aad00d900f4e8541c357fe867_b"></p><p>2、获取每个小说的名称</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">name_list <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//tbody/tr//a/text()&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 指定标签下面的全部内容 </span></span>
<span class="line">name_list<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic1.zhimg.com/v2-f7f2726f9c6dd23f1d11251a66b2b95c_b.jpg" alt="f7f2726f9c6dd23f1d11251a66b2b95c_b"></p><p>3、生成数据帧DataFrame</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 生成古龙小说的地址和名称 </span></span>
<span class="line">gulong <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span>name_list<span class="token punctuation">,</span> <span class="token string">&quot;url&quot;</span><span class="token punctuation">:</span>href_list <span class="token punctuation">}</span><span class="token punctuation">)</span> </span>
<span class="line">gulong</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic1.zhimg.com/v2-e34586ed311e8b6ef57b4d4507aab3c8_b.jpg" alt="e34586ed311e8b6ef57b4d4507aab3c8_b"></p><p>4、完善URL地址</p><p>实际上每个小说的URL地址是有一个前缀的，比如绝代双骄的完整地址：<a href="https://link.zhihu.com/?target=https%3A//www.kanunu8.com/book/4573/" target="_blank" rel="noopener noreferrer">https://www.kanunu8.com/book/4573/</a></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">gulong<span class="token punctuation">[</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;https://www.kanunu8.com/book&#39;</span> <span class="token operator">+</span> gulong<span class="token punctuation">[</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">]</span> <span class="token comment"># 加上公共前缀 </span></span>
<span class="line">gulong </span>
<span class="line"></span>
<span class="line"><span class="token comment"># 导出为excel文件 </span></span>
<span class="line">gulong<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">&quot;gulong.xlsx&quot;</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic4.zhimg.com/v2-afd23e6b81945e71a3528eee656f9d2f_b.jpg" alt="afd23e6b81945e71a3528eee656f9d2f_b"></p>`,144))])}const F=l(d,[["render",U],["__file","数据解析工具-Xpath.html.vue"]]),S=JSON.parse('{"path":"/fpython/crawler/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%E5%B7%A5%E5%85%B7-Xpath.html","title":"数据解析工具：Xpath","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"Xpath介绍","slug":"xpath介绍","link":"#xpath介绍","children":[]},{"level":2,"title":"Xpath安装","slug":"xpath安装","link":"#xpath安装","children":[]},{"level":2,"title":"Xpath解析原理","slug":"xpath解析原理","link":"#xpath解析原理","children":[]},{"level":2,"title":"Xpath使用方法","slug":"xpath使用方法","link":"#xpath使用方法","children":[{"level":3,"title":"3个特殊符号","slug":"_3个特殊符号","link":"#_3个特殊符号","children":[]},{"level":3,"title":"常见路径表达式","slug":"常见路径表达式","link":"#常见路径表达式","children":[]},{"level":3,"title":"举例","slug":"举例","link":"#举例","children":[]},{"level":3,"title":"Xpath运算符","slug":"xpath运算符","link":"#xpath运算符","children":[]}]},{"level":2,"title":"HTML元素","slug":"html元素","link":"#html元素","children":[{"level":3,"title":"常见属性","slug":"常见属性","link":"#常见属性","children":[]},{"level":3,"title":"HTML标题","slug":"html标题","link":"#html标题","children":[]}]},{"level":2,"title":"原数据","slug":"原数据","link":"#原数据","children":[{"level":3,"title":"获取单个标签内容","slug":"获取单个标签内容","link":"#获取单个标签内容","children":[]},{"level":3,"title":"获取标签内的多个内容","slug":"获取标签内的多个内容","link":"#获取标签内的多个内容","children":[]},{"level":3,"title":"属性定位","slug":"属性定位","link":"#属性定位","children":[]},{"level":3,"title":"索引定位","slug":"索引定位","link":"#索引定位","children":[]},{"level":3,"title":"获取文本内容","slug":"获取文本内容","link":"#获取文本内容","children":[]},{"level":3,"title":"直系和非直系理解","slug":"直系和非直系理解","link":"#直系和非直系理解","children":[]},{"level":3,"title":"取属性内容","slug":"取属性内容","link":"#取属性内容","children":[]},{"level":3,"title":"总结","slug":"总结","link":"#总结","children":[]}]},{"level":2,"title":"实战","slug":"实战","link":"#实战","children":[{"level":3,"title":"网页数据分析","slug":"网页数据分析","link":"#网页数据分析","children":[]},{"level":3,"title":"获取网页源码","slug":"获取网页源码","link":"#获取网页源码","children":[]},{"level":3,"title":"获取信息","slug":"获取信息","link":"#获取信息","children":[]}]}],"git":{"updatedTime":1710222680000,"contributors":[{"name":"wanglinhao","username":"wanglinhao","email":"wanglinhao@wegooooo.com","commits":2}]},"filePathRelative":"fpython/crawler/数据解析工具-Xpath.md"}');export{F as comp,S as data};
