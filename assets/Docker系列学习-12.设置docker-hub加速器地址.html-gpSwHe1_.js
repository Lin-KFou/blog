import{_ as t,c as o,a as n,d as a,e as l,f as c,r,o as p,b as i}from"./app-BCC5ysrj.js";const d={},u={class:"vuepress-toc"},m={class:"vuepress-toc-item"},v={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},k={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"},_={class:"vuepress-toc-item"},f={class:"vuepress-toc-item"},g={class:"vuepress-toc-item"},y={class:"vuepress-toc-item"},x={class:"vuepress-toc-item"};function E(q,s){const e=r("router-link");return p(),o("div",null,[s[10]||(s[10]=n("h1",{id:"_12-docker-hub加速器",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_12-docker-hub加速器"},[n("span",null,"12. docker-hub加速器")])],-1)),n("nav",u,[n("ul",null,[n("li",m,[a(e,{to:"#简介"},{default:l(()=>s[0]||(s[0]=[i("简介")])),_:1})]),n("li",v,[a(e,{to:"#_1-常用加速器"},{default:l(()=>s[1]||(s[1]=[i("1. 常用加速器")])),_:1})]),n("li",h,[a(e,{to:"#_2-配置方法"},{default:l(()=>s[2]||(s[2]=[i("2. 配置方法")])),_:1}),n("ul",null,[n("li",k,[a(e,{to:"#_2-1-通过-daemon-json-配置-推荐"},{default:l(()=>s[3]||(s[3]=[i("2.1 通过 daemon.json 配置（推荐）")])),_:1})]),n("li",b,[a(e,{to:"#_2-2-通过-systemd-配置"},{default:l(()=>s[4]||(s[4]=[i("2.2 通过 systemd 配置")])),_:1})])])]),n("li",_,[a(e,{to:"#_3-验证配置"},{default:l(()=>s[5]||(s[5]=[i("3. 验证配置")])),_:1})]),n("li",f,[a(e,{to:"#_4-最佳实践"},{default:l(()=>s[6]||(s[6]=[i("4. 最佳实践")])),_:1})]),n("li",g,[a(e,{to:"#_5-常见问题"},{default:l(()=>s[7]||(s[7]=[i("5. 常见问题")])),_:1}),n("ul",null,[n("li",y,[a(e,{to:"#_5-1-配置不生效"},{default:l(()=>s[8]||(s[8]=[i("5.1 配置不生效")])),_:1})]),n("li",x,[a(e,{to:"#_5-2-下载速度仍然较慢"},{default:l(()=>s[9]||(s[9]=[i("5.2 下载速度仍然较慢")])),_:1})])])])])]),s[11]||(s[11]=c(`<hr><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>Docker Hub 是 Docker 官方的公共镜像仓库，但由于网络原因，国内访问 Docker Hub 可能较慢。使用镜像加速器可以有效提升获取 Docker 镜像的速度。</p><h2 id="_1-常用加速器" tabindex="-1"><a class="header-anchor" href="#_1-常用加速器"><span>1. 常用加速器</span></a></h2><ul><li>阿里云加速器：<code>https://cr.console.aliyun.com/</code></li><li>腾讯云加速器：<code>https://cloud.tencent.com/document/product/457/9113</code></li><li>网易云加速器：<code>https://hub-mirror.c.163.com</code></li><li>百度云加速器：<code>https://mirror.baidubce.com</code></li></ul><h2 id="_2-配置方法" tabindex="-1"><a class="header-anchor" href="#_2-配置方法"><span>2. 配置方法</span></a></h2><h3 id="_2-1-通过-daemon-json-配置-推荐" tabindex="-1"><a class="header-anchor" href="#_2-1-通过-daemon-json-配置-推荐"><span>2.1 通过 daemon.json 配置（推荐）</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 创建或编辑配置文件</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/docker/daemon.json</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 添加以下内容</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;https://mirror.ccs.tencentyun.com&quot;</span>,</span>
<span class="line">    <span class="token string">&quot;https://registry.docker-cn.com&quot;</span>,</span>
<span class="line">    <span class="token string">&quot;https://hub-mirror.c.163.com&quot;</span>,</span>
<span class="line">    <span class="token string">&quot;https://mirror.baidubce.com&quot;</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启 Docker 服务</span></span>
<span class="line"><span class="token function">sudo</span> systemctl daemon-reload</span>
<span class="line"><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-通过-systemd-配置" tabindex="-1"><a class="header-anchor" href="#_2-2-通过-systemd-配置"><span>2.2 通过 systemd 配置</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 查找 docker.service 位置</span></span>
<span class="line"><span class="token function">find</span> / <span class="token parameter variable">-name</span> <span class="token string">&quot;docker.service&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 复制配置文件（如果需要）</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">cp</span> <span class="token parameter variable">-n</span> /usr/lib/systemd/system/docker.service /etc/systemd/system/docker.service</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 修改配置文件</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/systemd/system/docker.service</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 在 ExecStart 行添加加速器地址</span></span>
<span class="line"><span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/dockerd --registry-mirror<span class="token operator">=</span>https://<span class="token operator">&lt;</span>your-mirror-address<span class="token operator">&gt;</span>.mirror.aliyuncs.com</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启服务</span></span>
<span class="line"><span class="token function">sudo</span> systemctl daemon-reload</span>
<span class="line"><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-验证配置" tabindex="-1"><a class="header-anchor" href="#_3-验证配置"><span>3. 验证配置</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 查看加速器配置</span></span>
<span class="line"><span class="token function">docker</span> info <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;Registry Mirrors&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 测试下载速度</span></span>
<span class="line"><span class="token function">time</span> <span class="token function">docker</span> pull nginx:latest</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-最佳实践" tabindex="-1"><a class="header-anchor" href="#_4-最佳实践"><span>4. 最佳实践</span></a></h2><ul><li>使用多个加速器地址，提供故障转移</li><li>选择就近的加速器节点</li><li>定期测试加速器性能</li><li>及时更新失效的加速器地址</li></ul><h2 id="_5-常见问题" tabindex="-1"><a class="header-anchor" href="#_5-常见问题"><span>5. 常见问题</span></a></h2><h3 id="_5-1-配置不生效" tabindex="-1"><a class="header-anchor" href="#_5-1-配置不生效"><span>5.1 配置不生效</span></a></h3><ul><li>检查 daemon.json 格式是否正确</li><li>确保重启了 Docker 服务</li><li>检查系统日志是否有错误信息</li></ul><h3 id="_5-2-下载速度仍然较慢" tabindex="-1"><a class="header-anchor" href="#_5-2-下载速度仍然较慢"><span>5.2 下载速度仍然较慢</span></a></h3><ul><li>尝试使用其他加速器地址</li><li>检查网络连接是否正常</li><li>考虑使用私有镜像仓库</li></ul><blockquote><p><strong>注意：</strong> 某些加速器可能需要注册账号才能获取专用地址</p></blockquote>`,20))])}const B=t(d,[["render",E],["__file","Docker系列学习-12.设置docker-hub加速器地址.html.vue"]]),j=JSON.parse('{"path":"/flinux/Kubernetes/Docker%E7%B3%BB%E5%88%97%E5%AD%A6%E4%B9%A0/Docker%E7%B3%BB%E5%88%97%E5%AD%A6%E4%B9%A0-12.%E8%AE%BE%E7%BD%AEdocker-hub%E5%8A%A0%E9%80%9F%E5%99%A8%E5%9C%B0%E5%9D%80.html","title":"12. docker-hub加速器","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"1. 常用加速器","slug":"_1-常用加速器","link":"#_1-常用加速器","children":[]},{"level":2,"title":"2. 配置方法","slug":"_2-配置方法","link":"#_2-配置方法","children":[{"level":3,"title":"2.1 通过 daemon.json 配置（推荐）","slug":"_2-1-通过-daemon-json-配置-推荐","link":"#_2-1-通过-daemon-json-配置-推荐","children":[]},{"level":3,"title":"2.2 通过 systemd 配置","slug":"_2-2-通过-systemd-配置","link":"#_2-2-通过-systemd-配置","children":[]}]},{"level":2,"title":"3. 验证配置","slug":"_3-验证配置","link":"#_3-验证配置","children":[]},{"level":2,"title":"4. 最佳实践","slug":"_4-最佳实践","link":"#_4-最佳实践","children":[]},{"level":2,"title":"5. 常见问题","slug":"_5-常见问题","link":"#_5-常见问题","children":[{"level":3,"title":"5.1 配置不生效","slug":"_5-1-配置不生效","link":"#_5-1-配置不生效","children":[]},{"level":3,"title":"5.2 下载速度仍然较慢","slug":"_5-2-下载速度仍然较慢","link":"#_5-2-下载速度仍然较慢","children":[]}]}],"git":{"updatedTime":1709276200000,"contributors":[{"name":"wanglinhao","username":"wanglinhao","email":"wanglinhao@wegooooo.com","commits":2}]},"filePathRelative":"flinux/Kubernetes/Docker系列学习/Docker系列学习-12.设置docker-hub加速器地址.md"}');export{B as comp,j as data};
