import{_ as i,c as p,a as n,d as e,e as l,f as o,r as c,o as r,b as t}from"./app-BCC5ysrj.js";const d={},u={class:"vuepress-toc"},m={class:"vuepress-toc-item"},v={class:"vuepress-toc-item"},k={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},g={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"},_={class:"vuepress-toc-item"},y={class:"vuepress-toc-item"},f={class:"vuepress-toc-item"};function E(S,s){const a=c("router-link");return r(),p("div",null,[s[9]||(s[9]=n("h1",{id:"_3-2-修改项目的默认配置",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3-2-修改项目的默认配置"},[n("span",null,"3.2 修改项目的默认配置")])],-1)),n("nav",u,[n("ul",null,[n("li",m,[e(a,{to:"#概述"},{default:l(()=>s[0]||(s[0]=[t("概述")])),_:1})]),n("li",v,[e(a,{to:"#_3-2-1-配置语言环境和时区"},{default:l(()=>s[1]||(s[1]=[t("3.2.1 配置语言环境和时区")])),_:1}),n("ul",null,[n("li",k,[e(a,{to:"#语言设置"},{default:l(()=>s[2]||(s[2]=[t("语言设置")])),_:1})]),n("li",h,[e(a,{to:"#时区设置"},{default:l(()=>s[3]||(s[3]=[t("时区设置")])),_:1})])])]),n("li",g,[e(a,{to:"#_3-2-2-配置开发数据库"},{default:l(()=>s[4]||(s[4]=[t("3.2.2 配置开发数据库")])),_:1}),n("ul",null,[n("li",b,[e(a,{to:"#mysql-配置"},{default:l(()=>s[5]||(s[5]=[t("MySQL 配置")])),_:1})]),n("li",_,[e(a,{to:"#安装依赖"},{default:l(()=>s[6]||(s[6]=[t("安装依赖")])),_:1})]),n("li",y,[e(a,{to:"#验证配置"},{default:l(()=>s[7]||(s[7]=[t("验证配置")])),_:1})])])]),n("li",f,[e(a,{to:"#最佳实践"},{default:l(()=>s[8]||(s[8]=[t("最佳实践")])),_:1})])])]),s[10]||(s[10]=o(`<hr><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>Django 项目创建后，需要根据实际需求修改一些默认配置，主要包括：</p><ul><li>语言和时区设置</li><li>数据库配置</li><li>其他项目特定配置</li></ul><h2 id="_3-2-1-配置语言环境和时区" tabindex="-1"><a class="header-anchor" href="#_3-2-1-配置语言环境和时区"><span>3.2.1 配置语言环境和时区</span></a></h2><h3 id="语言设置" tabindex="-1"><a class="header-anchor" href="#语言设置"><span>语言设置</span></a></h3><p>在 <code>settings.py</code> 中修改语言配置：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 设置为中文简体（默认为 en-us）</span></span>
<span class="line">LANGUAGE_CODE <span class="token operator">=</span> <span class="token string">&#39;zh-Hans&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="时区设置" tabindex="-1"><a class="header-anchor" href="#时区设置"><span>时区设置</span></a></h3><p>配置项目时区并设置时区不敏感：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 设置时区为上海</span></span>
<span class="line">TIME_ZONE <span class="token operator">=</span> <span class="token string">&#39;Asia/Shanghai&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 关闭时区敏感</span></span>
<span class="line">USE_TZ <span class="token operator">=</span> <span class="token boolean">False</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>说明：</strong> 设置 <code>USE_TZ = False</code> 后，Django 将使用本地时间，不会进行时区转换</p></blockquote><h2 id="_3-2-2-配置开发数据库" tabindex="-1"><a class="header-anchor" href="#_3-2-2-配置开发数据库"><span>3.2.2 配置开发数据库</span></a></h2><p>Django 默认使用 SQLite 数据库，但在生产环境中通常使用 MySQL 等更强大的数据库系统。</p><h3 id="mysql-配置" tabindex="-1"><a class="header-anchor" href="#mysql-配置"><span>MySQL 配置</span></a></h3><p>在 <code>settings.py</code> 中修改数据库配置：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">DATABASES <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&#39;default&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&#39;ENGINE&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;django.db.backends.mysql&#39;</span><span class="token punctuation">,</span>    <span class="token comment"># MySQL 引擎</span></span>
<span class="line">        <span class="token string">&#39;NAME&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;django_bbs&#39;</span><span class="token punctuation">,</span>                    <span class="token comment"># 数据库名</span></span>
<span class="line">        <span class="token string">&#39;USER&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;root&#39;</span><span class="token punctuation">,</span>                         <span class="token comment"># 用户名</span></span>
<span class="line">        <span class="token string">&#39;PASSWORD&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;Djangobbs&#39;</span><span class="token punctuation">,</span>                <span class="token comment"># 密码</span></span>
<span class="line">        <span class="token string">&#39;HOST&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;127.0.0.1&#39;</span><span class="token punctuation">,</span>                    <span class="token comment"># 主机地址</span></span>
<span class="line">        <span class="token string">&#39;PORT&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;3306&#39;</span><span class="token punctuation">,</span>                         <span class="token comment"># 端口号</span></span>
<span class="line">        <span class="token string">&#39;OPTIONS&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&#39;charset&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;utf8mb4&#39;</span><span class="token punctuation">,</span>               <span class="token comment"># 使用 utf8mb4 编码</span></span>
<span class="line">            <span class="token string">&#39;init_command&#39;</span><span class="token punctuation">:</span> </span>
<span class="line">                <span class="token string">&quot;SET sql_mode=&#39;STRICT_TRANS_TABLES&#39;&quot;</span><span class="token punctuation">,</span> <span class="token comment"># 设置 SQL 模式</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖"><span>安装依赖</span></a></h3><p>由于 MySQLdb 不支持 Python3，需要安装 mysqlclient：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 安装 mysqlclient</span></span>
<span class="line">pip <span class="token function">install</span> mysqlclient</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 或使用 conda 安装</span></span>
<span class="line">conda <span class="token function">install</span> mysqlclient</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="验证配置" tabindex="-1"><a class="header-anchor" href="#验证配置"><span>验证配置</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 测试数据库连接</span></span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">import</span> MySQLdb</span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;MySQL 连接成功！&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> ImportError<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;请检查 mysqlclient 是否正确安装&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践"><span>最佳实践</span></a></h2><ol><li><p><strong>数据库设置</strong></p><ul><li>使用环境变量存储敏感信息</li><li>不同环境使用不同配置</li><li>设置适当的连接池大小</li></ul></li><li><p><strong>时区处理</strong></p><ul><li>确保时区设置符合业务需求</li><li>注意时区对数据存储的影响</li></ul></li><li><p><strong>字符编码</strong></p><ul><li>使用 utf8mb4 支持完整的 Unicode</li><li>保持数据库、Python 和 HTML 编码一致</li></ul></li></ol><blockquote><p><strong>注意：</strong></p><ul><li>不要在版本控制中提交敏感信息</li><li>定期备份数据库</li><li>注意数据库性能优化</li></ul></blockquote>`,25))])}const q=i(d,[["render",E],["__file","3.2 修改项目的默认配置.html.vue"]]),x=JSON.parse('{"path":"/fpython/htmlsystem/Django/chapter-03%EF%BC%9A%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/3.2%20%E4%BF%AE%E6%94%B9%E9%A1%B9%E7%9B%AE%E7%9A%84%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE.html","title":"3.2 修改项目的默认配置","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"3.2.1 配置语言环境和时区","slug":"_3-2-1-配置语言环境和时区","link":"#_3-2-1-配置语言环境和时区","children":[{"level":3,"title":"语言设置","slug":"语言设置","link":"#语言设置","children":[]},{"level":3,"title":"时区设置","slug":"时区设置","link":"#时区设置","children":[]}]},{"level":2,"title":"3.2.2 配置开发数据库","slug":"_3-2-2-配置开发数据库","link":"#_3-2-2-配置开发数据库","children":[{"level":3,"title":"MySQL 配置","slug":"mysql-配置","link":"#mysql-配置","children":[]},{"level":3,"title":"安装依赖","slug":"安装依赖","link":"#安装依赖","children":[]},{"level":3,"title":"验证配置","slug":"验证配置","link":"#验证配置","children":[]}]},{"level":2,"title":"最佳实践","slug":"最佳实践","link":"#最佳实践","children":[]}],"git":{"updatedTime":1735029308000,"contributors":[{"name":"Linkefou","username":"Linkefou","email":"wlh724567296@163.com","commits":1},{"name":"wanglinhao","username":"wanglinhao","email":"wanglinhao@wegooooo.com","commits":3}]},"filePathRelative":"fpython/htmlsystem/Django/chapter-03：项目框架搭建/3.2 修改项目的默认配置.md"}');export{q as comp,x as data};
