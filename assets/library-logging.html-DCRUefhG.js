import{_ as t,c as p,a as s,b as a,d as l,e as i,f as o,r as c,o as r}from"./app-BCC5ysrj.js";const u={},d={class:"vuepress-toc"},g={class:"vuepress-toc-item"},v={class:"vuepress-toc-item"},m={class:"vuepress-toc-item"},k={class:"vuepress-toc-item"},h={class:"vuepress-toc-item"},b={class:"vuepress-toc-item"},f={class:"vuepress-toc-item"},y={class:"vuepress-toc-item"},_={class:"vuepress-toc-item"};function x(w,n){const e=c("router-link");return r(),p("div",null,[n[9]||(n[9]=s("h1",{id:"logging-记录和管理日志信息",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#logging-记录和管理日志信息"},[s("span",null,[s("code",null,"logging"),a("：记录和管理日志信息")])])],-1)),s("nav",d,[s("ul",null,[s("li",g,[l(e,{to:"#基本用法"},{default:i(()=>n[0]||(n[0]=[a("基本用法")])),_:1}),s("ul",null,[s("li",v,[l(e,{to:"#语法"},{default:i(()=>n[1]||(n[1]=[a("语法")])),_:1})]),s("li",m,[l(e,{to:"#日志级别"},{default:i(()=>n[2]||(n[2]=[a("日志级别")])),_:1})])])]),s("li",k,[l(e,{to:"#配置日志"},{default:i(()=>n[3]||(n[3]=[a("配置日志")])),_:1}),s("ul",null,[s("li",h,[l(e,{to:"#示例"},{default:i(()=>n[4]||(n[4]=[a("示例")])),_:1})])])]),s("li",b,[l(e,{to:"#日志输出到文件"},{default:i(()=>n[5]||(n[5]=[a("日志输出到文件")])),_:1}),s("ul",null,[s("li",f,[l(e,{to:"#示例-1"},{default:i(()=>n[6]||(n[6]=[a("示例")])),_:1})])])]),s("li",y,[l(e,{to:"#自定义日志器"},{default:i(()=>n[7]||(n[7]=[a("自定义日志器")])),_:1}),s("ul",null,[s("li",_,[l(e,{to:"#示例-2"},{default:i(()=>n[8]||(n[8]=[a("示例")])),_:1})])])])])]),n[10]||(n[10]=o(`<p>Python 的 <code>logging</code> 库是一个强大的工具，用于记录和管理应用程序的日志信息。它提供了灵活的日志记录功能，支持多种日志级别和输出格式。本文将详细介绍 <code>logging</code> 库的用法、配置和常见应用场景。</p><h2 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法"><span>基本用法</span></a></h2><p><code>logging</code> 库允许您在应用程序中记录不同级别的日志信息，如调试信息、错误信息等。</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> logging</span>
<span class="line"></span>
<span class="line">logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&#39;这是调试信息&#39;</span><span class="token punctuation">)</span></span>
<span class="line">logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&#39;这是普通信息&#39;</span><span class="token punctuation">)</span></span>
<span class="line">logging<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">&#39;这是警告信息&#39;</span><span class="token punctuation">)</span></span>
<span class="line">logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">&#39;这是错误信息&#39;</span><span class="token punctuation">)</span></span>
<span class="line">logging<span class="token punctuation">.</span>critical<span class="token punctuation">(</span><span class="token string">&#39;这是严重错误信息&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="日志级别" tabindex="-1"><a class="header-anchor" href="#日志级别"><span>日志级别</span></a></h3><ul><li><code>DEBUG</code>：详细的信息，通常只在诊断问题时使用。</li><li><code>INFO</code>：确认一切按预期工作。</li><li><code>WARNING</code>：表示某些意外情况或问题。</li><li><code>ERROR</code>：更严重的问题，程序未能执行某些功能。</li><li><code>CRITICAL</code>：非常严重的问题，程序可能无法继续运行。</li></ul><h2 id="配置日志" tabindex="-1"><a class="header-anchor" href="#配置日志"><span>配置日志</span></a></h2><p>可以通过 <code>basicConfig</code> 函数配置日志的输出格式、日志级别和输出位置。</p><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span>示例</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> logging</span>
<span class="line"></span>
<span class="line">logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">,</span> <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&#39;%(asctime)s - %(levelname)s - %(message)s&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&#39;这是配置信息后的普通信息&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个示例中，日志将以指定的格式输出，包括时间、日志级别和消息内容。</p><h2 id="日志输出到文件" tabindex="-1"><a class="header-anchor" href="#日志输出到文件"><span>日志输出到文件</span></a></h2><p>可以将日志信息输出到文件中，以便于后续分析和查看。</p><h3 id="示例-1" tabindex="-1"><a class="header-anchor" href="#示例-1"><span>示例</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> logging</span>
<span class="line"></span>
<span class="line">logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>filename<span class="token operator">=</span><span class="token string">&#39;app.log&#39;</span><span class="token punctuation">,</span> filemode<span class="token operator">=</span><span class="token string">&#39;w&#39;</span><span class="token punctuation">,</span> level<span class="token operator">=</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&#39;这是写入文件的调试信息&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个示例中，日志信息将被写入到 <code>app.log</code> 文件中。</p><h2 id="自定义日志器" tabindex="-1"><a class="header-anchor" href="#自定义日志器"><span>自定义日志器</span></a></h2><p>可以创建自定义的日志器，以便在大型应用程序中更好地管理日志信息。</p><h3 id="示例-2" tabindex="-1"><a class="header-anchor" href="#示例-2"><span>示例</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> logging</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建自定义日志器</span></span>
<span class="line">logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">&#39;my_logger&#39;</span><span class="token punctuation">)</span></span>
<span class="line">logger<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建控制台处理器</span></span>
<span class="line">console_handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">console_handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建格式化器并将其添加到处理器</span></span>
<span class="line">formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">&#39;%(name)s - %(levelname)s - %(message)s&#39;</span><span class="token punctuation">)</span></span>
<span class="line">console_handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 将处理器添加到日志器</span></span>
<span class="line">logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>console_handler<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&#39;这是自定义日志器的调试信息&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,21))])}const C=t(u,[["render",x],["__file","library-logging.html.vue"]]),B=JSON.parse('{"path":"/fpython/library/library/library-logging.html","title":"logging：记录和管理日志信息","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"基本用法","slug":"基本用法","link":"#基本用法","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"日志级别","slug":"日志级别","link":"#日志级别","children":[]}]},{"level":2,"title":"配置日志","slug":"配置日志","link":"#配置日志","children":[{"level":3,"title":"示例","slug":"示例","link":"#示例","children":[]}]},{"level":2,"title":"日志输出到文件","slug":"日志输出到文件","link":"#日志输出到文件","children":[{"level":3,"title":"示例","slug":"示例-1","link":"#示例-1","children":[]}]},{"level":2,"title":"自定义日志器","slug":"自定义日志器","link":"#自定义日志器","children":[{"level":3,"title":"示例","slug":"示例-2","link":"#示例-2","children":[]}]}],"git":{"updatedTime":1735029308000,"contributors":[{"name":"wanglinhao","username":"wanglinhao","email":"wanglinhao@wegooooo.com","commits":2}]},"filePathRelative":"fpython/library/library/library-logging.md"}');export{C as comp,B as data};
